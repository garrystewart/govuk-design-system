{"version":3,"file":"application-ie8.js","sources":["javascripts/application-ie8.js"],"sourcesContent":["(function () {\n  'use strict';\n\n  /**\n   * This seems to fail in IE8, requires more investigation.\n   * See: https://github.com/imagitama/nodelist-foreach-polyfill\n   */\n  function nodeListForEach (nodes, callback) {\n    if (window.NodeList.prototype.forEach) {\n      return nodes.forEach(callback)\n    }\n    for (var i = 0; i < nodes.length; i++) {\n      callback.call(window, nodes[i], i, nodes);\n    }\n  }\n\n  var commonjsGlobal = typeof globalThis !== 'undefined' ? globalThis : typeof window !== 'undefined' ? window : typeof global !== 'undefined' ? global : typeof self !== 'undefined' ? self : {};\n\n  function createCommonjsModule(fn, module) {\n  \treturn module = { exports: {} }, fn(module, module.exports), module.exports;\n  }\n\n  var iframeResizer = createCommonjsModule(function (module) {\n  /*\n   * File: iframeResizer.js\n   * Desc: Force iframes to size to content.\n   * Requires: iframeResizer.contentWindow.js to be loaded into the target frame.\n   * Doc: https://github.com/davidjbradshaw/iframe-resizer\n   * Author: David J. Bradshaw - dave@bradshaw.net\n   * Contributor: Jure Mav - jure.mav@gmail.com\n   * Contributor: Reed Dadoune - reed@dadoune.com\n   */\n\n  (function(undefined) {\n\n    if (typeof window === 'undefined') return; // don't run for server side render\n\n    var count = 0,\n      logEnabled = false,\n      hiddenCheckEnabled = false,\n      msgHeader = 'message',\n      msgHeaderLen = msgHeader.length,\n      msgId = '[iFrameSizer]', //Must match iframe msg ID\n      msgIdLen = msgId.length,\n      pagePosition = null,\n      requestAnimationFrame = window.requestAnimationFrame,\n      resetRequiredMethods = {\n        max: 1,\n        scroll: 1,\n        bodyScroll: 1,\n        documentElementScroll: 1\n      },\n      settings = {},\n      timer = null,\n      logId = 'Host Page',\n      defaults = {\n        autoResize: true,\n        bodyBackground: null,\n        bodyMargin: null,\n        bodyMarginV1: 8,\n        bodyPadding: null,\n        checkOrigin: true,\n        inPageLinks: false,\n        enablePublicMethods: true,\n        heightCalculationMethod: 'bodyOffset',\n        id: 'iFrameResizer',\n        interval: 32,\n        log: false,\n        maxHeight: Infinity,\n        maxWidth: Infinity,\n        minHeight: 0,\n        minWidth: 0,\n        resizeFrom: 'parent',\n        scrolling: false,\n        sizeHeight: true,\n        sizeWidth: false,\n        warningTimeout: 5000,\n        tolerance: 0,\n        widthCalculationMethod: 'scroll',\n        closedCallback: function() {},\n        initCallback: function() {},\n        messageCallback: function() {\n          warn('MessageCallback function not defined');\n        },\n        resizedCallback: function() {},\n        scrollCallback: function() {\n          return true;\n        }\n      };\n\n    function getMutationObserver() {\n      return window.MutationObserver || window.WebKitMutationObserver || window.MozMutationObserver;\n    }\n\n    function addEventListener(obj, evt, func) {\n      /* istanbul ignore else */ // Not testable in PhantonJS\n      if ('addEventListener' in window) {\n        obj.addEventListener(evt, func, false);\n      } else if ('attachEvent' in window) {\n        //IE\n        obj.attachEvent('on' + evt, func);\n      }\n    }\n\n    function removeEventListener(el, evt, func) {\n      /* istanbul ignore else */ // Not testable in phantonJS\n      if ('removeEventListener' in window) {\n        el.removeEventListener(evt, func, false);\n      } else if ('detachEvent' in window) {\n        //IE\n        el.detachEvent('on' + evt, func);\n      }\n    }\n\n    function setupRequestAnimationFrame() {\n      var vendors = ['moz', 'webkit', 'o', 'ms'],\n        x;\n\n      // Remove vendor prefixing if prefixed and break early if not\n      for (x = 0; x < vendors.length && !requestAnimationFrame; x += 1) {\n        requestAnimationFrame = window[vendors[x] + 'RequestAnimationFrame'];\n      }\n\n      if (!requestAnimationFrame) {\n        log('setup', 'RequestAnimationFrame not supported');\n      }\n    }\n\n    function getMyID(iframeId) {\n      var retStr = 'Host page: ' + iframeId;\n\n      if (window.top !== window.self) {\n        if (window.parentIFrame && window.parentIFrame.getId) {\n          retStr = window.parentIFrame.getId() + ': ' + iframeId;\n        } else {\n          retStr = 'Nested host page: ' + iframeId;\n        }\n      }\n\n      return retStr;\n    }\n\n    function formatLogHeader(iframeId) {\n      return msgId + '[' + getMyID(iframeId) + ']';\n    }\n\n    function isLogEnabled(iframeId) {\n      return settings[iframeId] ? settings[iframeId].log : logEnabled;\n    }\n\n    function log(iframeId, msg) {\n      output('log', iframeId, msg, isLogEnabled(iframeId));\n    }\n\n    function info(iframeId, msg) {\n      output('info', iframeId, msg, isLogEnabled(iframeId));\n    }\n\n    function warn(iframeId, msg) {\n      output('warn', iframeId, msg, true);\n    }\n\n    function output(type, iframeId, msg, enabled) {\n      if (true === enabled && 'object' === typeof window.console) {\n        console[type](formatLogHeader(iframeId), msg);\n      }\n    }\n\n    function iFrameListener(event) {\n      function resizeIFrame() {\n        function resize() {\n          setSize(messageData);\n          setPagePosition(iframeId);\n          callback('resizedCallback', messageData);\n        }\n\n        ensureInRange('Height');\n        ensureInRange('Width');\n\n        syncResize(resize, messageData, 'init');\n      }\n\n      function processMsg() {\n        var data = msg.substr(msgIdLen).split(':');\n\n        return {\n          iframe: settings[data[0]] && settings[data[0]].iframe,\n          id: data[0],\n          height: data[1],\n          width: data[2],\n          type: data[3]\n        };\n      }\n\n      function ensureInRange(Dimension) {\n        var max = Number(settings[iframeId]['max' + Dimension]),\n          min = Number(settings[iframeId]['min' + Dimension]),\n          dimension = Dimension.toLowerCase(),\n          size = Number(messageData[dimension]);\n\n        log(\n          iframeId,\n          'Checking ' + dimension + ' is in range ' + min + '-' + max\n        );\n\n        if (size < min) {\n          size = min;\n          log(iframeId, 'Set ' + dimension + ' to min value');\n        }\n\n        if (size > max) {\n          size = max;\n          log(iframeId, 'Set ' + dimension + ' to max value');\n        }\n\n        messageData[dimension] = '' + size;\n      }\n\n      function isMessageFromIFrame() {\n        function checkAllowedOrigin() {\n          function checkList() {\n            var i = 0,\n              retCode = false;\n\n            log(\n              iframeId,\n              'Checking connection is from allowed list of origins: ' +\n                checkOrigin\n            );\n\n            for (; i < checkOrigin.length; i++) {\n              if (checkOrigin[i] === origin) {\n                retCode = true;\n                break;\n              }\n            }\n            return retCode;\n          }\n\n          function checkSingle() {\n            var remoteHost = settings[iframeId] && settings[iframeId].remoteHost;\n            log(iframeId, 'Checking connection is from: ' + remoteHost);\n            return origin === remoteHost;\n          }\n\n          return checkOrigin.constructor === Array ? checkList() : checkSingle();\n        }\n\n        var origin = event.origin,\n          checkOrigin = settings[iframeId] && settings[iframeId].checkOrigin;\n\n        if (checkOrigin && '' + origin !== 'null' && !checkAllowedOrigin()) {\n          throw new Error(\n            'Unexpected message received from: ' +\n              origin +\n              ' for ' +\n              messageData.iframe.id +\n              '. Message was: ' +\n              event.data +\n              '. This error can be disabled by setting the checkOrigin: false option or by providing of array of trusted domains.'\n          );\n        }\n\n        return true;\n      }\n\n      function isMessageForUs() {\n        return (\n          msgId === ('' + msg).substr(0, msgIdLen) &&\n          msg.substr(msgIdLen).split(':')[0] in settings\n        ); //''+Protects against non-string msg\n      }\n\n      function isMessageFromMetaParent() {\n        //Test if this message is from a parent above us. This is an ugly test, however, updating\n        //the message format would break backwards compatibity.\n        var retCode = messageData.type in { true: 1, false: 1, undefined: 1 };\n\n        if (retCode) {\n          log(iframeId, 'Ignoring init message from meta parent page');\n        }\n\n        return retCode;\n      }\n\n      function getMsgBody(offset) {\n        return msg.substr(msg.indexOf(':') + msgHeaderLen + offset);\n      }\n\n      function forwardMsgFromIFrame(msgBody) {\n        log(\n          iframeId,\n          'MessageCallback passed: {iframe: ' +\n            messageData.iframe.id +\n            ', message: ' +\n            msgBody +\n            '}'\n        );\n        callback('messageCallback', {\n          iframe: messageData.iframe,\n          message: JSON.parse(msgBody)\n        });\n        log(iframeId, '--');\n      }\n\n      function getPageInfo() {\n        var bodyPosition = document.body.getBoundingClientRect(),\n          iFramePosition = messageData.iframe.getBoundingClientRect();\n\n        return JSON.stringify({\n          iframeHeight: iFramePosition.height,\n          iframeWidth: iFramePosition.width,\n          clientHeight: Math.max(\n            document.documentElement.clientHeight,\n            window.innerHeight || 0\n          ),\n          clientWidth: Math.max(\n            document.documentElement.clientWidth,\n            window.innerWidth || 0\n          ),\n          offsetTop: parseInt(iFramePosition.top - bodyPosition.top, 10),\n          offsetLeft: parseInt(iFramePosition.left - bodyPosition.left, 10),\n          scrollTop: window.pageYOffset,\n          scrollLeft: window.pageXOffset\n        });\n      }\n\n      function sendPageInfoToIframe(iframe, iframeId) {\n        function debouncedTrigger() {\n          trigger(\n            'Send Page Info',\n            'pageInfo:' + getPageInfo(),\n            iframe,\n            iframeId\n          );\n        }\n        debounceFrameEvents(debouncedTrigger, 32, iframeId);\n      }\n\n      function startPageInfoMonitor() {\n        function setListener(type, func) {\n          function sendPageInfo() {\n            if (settings[id]) {\n              sendPageInfoToIframe(settings[id].iframe, id);\n            } else {\n              stop();\n            }\n          }\n\n          ['scroll', 'resize'].forEach(function(evt) {\n            log(id, type + evt + ' listener for sendPageInfo');\n            func(window, evt, sendPageInfo);\n          });\n        }\n\n        function stop() {\n          setListener('Remove ', removeEventListener);\n        }\n\n        function start() {\n          setListener('Add ', addEventListener);\n        }\n\n        var id = iframeId; //Create locally scoped copy of iFrame ID\n\n        start();\n\n        if (settings[id]) {\n          settings[id].stopPageInfo = stop;\n        }\n      }\n\n      function stopPageInfoMonitor() {\n        if (settings[iframeId] && settings[iframeId].stopPageInfo) {\n          settings[iframeId].stopPageInfo();\n          delete settings[iframeId].stopPageInfo;\n        }\n      }\n\n      function checkIFrameExists() {\n        var retBool = true;\n\n        if (null === messageData.iframe) {\n          warn(iframeId, 'IFrame (' + messageData.id + ') not found');\n          retBool = false;\n        }\n        return retBool;\n      }\n\n      function getElementPosition(target) {\n        var iFramePosition = target.getBoundingClientRect();\n\n        getPagePosition(iframeId);\n\n        return {\n          x: Math.floor(Number(iFramePosition.left) + Number(pagePosition.x)),\n          y: Math.floor(Number(iFramePosition.top) + Number(pagePosition.y))\n        };\n      }\n\n      function scrollRequestFromChild(addOffset) {\n        /* istanbul ignore next */ //Not testable in Karma\n        function reposition() {\n          pagePosition = newPosition;\n          scrollTo();\n          log(iframeId, '--');\n        }\n\n        function calcOffset() {\n          return {\n            x: Number(messageData.width) + offset.x,\n            y: Number(messageData.height) + offset.y\n          };\n        }\n\n        function scrollParent() {\n          if (window.parentIFrame) {\n            window.parentIFrame['scrollTo' + (addOffset ? 'Offset' : '')](\n              newPosition.x,\n              newPosition.y\n            );\n          } else {\n            warn(\n              iframeId,\n              'Unable to scroll to requested position, window.parentIFrame not found'\n            );\n          }\n        }\n\n        var offset = addOffset\n            ? getElementPosition(messageData.iframe)\n            : { x: 0, y: 0 },\n          newPosition = calcOffset();\n\n        log(\n          iframeId,\n          'Reposition requested from iFrame (offset x:' +\n            offset.x +\n            ' y:' +\n            offset.y +\n            ')'\n        );\n\n        if (window.top !== window.self) {\n          scrollParent();\n        } else {\n          reposition();\n        }\n      }\n\n      function scrollTo() {\n        if (false !== callback('scrollCallback', pagePosition)) {\n          setPagePosition(iframeId);\n        } else {\n          unsetPagePosition();\n        }\n      }\n\n      function findTarget(location) {\n        function jumpToTarget() {\n          var jumpPosition = getElementPosition(target);\n\n          log(\n            iframeId,\n            'Moving to in page link (#' +\n              hash +\n              ') at x: ' +\n              jumpPosition.x +\n              ' y: ' +\n              jumpPosition.y\n          );\n          pagePosition = {\n            x: jumpPosition.x,\n            y: jumpPosition.y\n          };\n\n          scrollTo();\n          log(iframeId, '--');\n        }\n\n        function jumpToParent() {\n          if (window.parentIFrame) {\n            window.parentIFrame.moveToAnchor(hash);\n          } else {\n            log(\n              iframeId,\n              'In page link #' +\n                hash +\n                ' not found and window.parentIFrame not found'\n            );\n          }\n        }\n\n        var hash = location.split('#')[1] || '',\n          hashData = decodeURIComponent(hash),\n          target =\n            document.getElementById(hashData) ||\n            document.getElementsByName(hashData)[0];\n\n        if (target) {\n          jumpToTarget();\n        } else if (window.top !== window.self) {\n          jumpToParent();\n        } else {\n          log(iframeId, 'In page link #' + hash + ' not found');\n        }\n      }\n\n      function callback(funcName, val) {\n        return chkCallback(iframeId, funcName, val);\n      }\n\n      function actionMsg() {\n        if (settings[iframeId] && settings[iframeId].firstRun) firstRun();\n\n        switch (messageData.type) {\n          case 'close':\n            if (settings[iframeId].closeRequestCallback)\n              chkCallback(\n                iframeId,\n                'closeRequestCallback',\n                settings[iframeId].iframe\n              );\n            else closeIFrame(messageData.iframe);\n            break;\n          case 'message':\n            forwardMsgFromIFrame(getMsgBody(6));\n            break;\n          case 'scrollTo':\n            scrollRequestFromChild(false);\n            break;\n          case 'scrollToOffset':\n            scrollRequestFromChild(true);\n            break;\n          case 'pageInfo':\n            sendPageInfoToIframe(\n              settings[iframeId] && settings[iframeId].iframe,\n              iframeId\n            );\n            startPageInfoMonitor();\n            break;\n          case 'pageInfoStop':\n            stopPageInfoMonitor();\n            break;\n          case 'inPageLink':\n            findTarget(getMsgBody(9));\n            break;\n          case 'reset':\n            resetIFrame(messageData);\n            break;\n          case 'init':\n            resizeIFrame();\n            callback('initCallback', messageData.iframe);\n            break;\n          default:\n            resizeIFrame();\n        }\n      }\n\n      function hasSettings(iframeId) {\n        var retBool = true;\n\n        if (!settings[iframeId]) {\n          retBool = false;\n          warn(\n            messageData.type +\n              ' No settings for ' +\n              iframeId +\n              '. Message was: ' +\n              msg\n          );\n        }\n\n        return retBool;\n      }\n\n      function iFrameReadyMsgReceived() {\n        for (var iframeId in settings) {\n          trigger(\n            'iFrame requested init',\n            createOutgoingMsg(iframeId),\n            document.getElementById(iframeId),\n            iframeId\n          );\n        }\n      }\n\n      function firstRun() {\n        if (settings[iframeId]) {\n          settings[iframeId].firstRun = false;\n        }\n      }\n\n      var msg = event.data,\n        messageData = {},\n        iframeId = null;\n\n      if ('[iFrameResizerChild]Ready' === msg) {\n        iFrameReadyMsgReceived();\n      } else if (isMessageForUs()) {\n        messageData = processMsg();\n        iframeId = logId = messageData.id;\n        if (settings[iframeId]) {\n          settings[iframeId].loaded = true;\n        }\n\n        if (!isMessageFromMetaParent() && hasSettings(iframeId)) {\n          log(iframeId, 'Received: ' + msg);\n\n          if (checkIFrameExists() && isMessageFromIFrame()) {\n            actionMsg();\n          }\n        }\n      } else {\n        info(iframeId, 'Ignored: ' + msg);\n      }\n    }\n\n    function chkCallback(iframeId, funcName, val) {\n      var func = null,\n        retVal = null;\n\n      if (settings[iframeId]) {\n        func = settings[iframeId][funcName];\n\n        if ('function' === typeof func) {\n          retVal = func(val);\n        } else {\n          throw new TypeError(\n            funcName + ' on iFrame[' + iframeId + '] is not a function'\n          );\n        }\n      }\n\n      return retVal;\n    }\n\n    function removeIframeListeners(iframe) {\n      var iframeId = iframe.id;\n      delete settings[iframeId];\n    }\n\n    function closeIFrame(iframe) {\n      var iframeId = iframe.id;\n      log(iframeId, 'Removing iFrame: ' + iframeId);\n\n      try {\n        // Catch race condition error with React\n        if (iframe.parentNode) {\n          iframe.parentNode.removeChild(iframe);\n        }\n      } catch (e) {}\n\n      chkCallback(iframeId, 'closedCallback', iframeId);\n      log(iframeId, '--');\n      removeIframeListeners(iframe);\n    }\n\n    function getPagePosition(iframeId) {\n      if (null === pagePosition) {\n        pagePosition = {\n          x:\n            window.pageXOffset !== undefined\n              ? window.pageXOffset\n              : document.documentElement.scrollLeft,\n          y:\n            window.pageYOffset !== undefined\n              ? window.pageYOffset\n              : document.documentElement.scrollTop\n        };\n        log(\n          iframeId,\n          'Get page position: ' + pagePosition.x + ',' + pagePosition.y\n        );\n      }\n    }\n\n    function setPagePosition(iframeId) {\n      if (null !== pagePosition) {\n        window.scrollTo(pagePosition.x, pagePosition.y);\n        log(\n          iframeId,\n          'Set page position: ' + pagePosition.x + ',' + pagePosition.y\n        );\n        unsetPagePosition();\n      }\n    }\n\n    function unsetPagePosition() {\n      pagePosition = null;\n    }\n\n    function resetIFrame(messageData) {\n      function reset() {\n        setSize(messageData);\n        trigger('reset', 'reset', messageData.iframe, messageData.id);\n      }\n\n      log(\n        messageData.id,\n        'Size reset requested by ' +\n          ('init' === messageData.type ? 'host page' : 'iFrame')\n      );\n      getPagePosition(messageData.id);\n      syncResize(reset, messageData, 'reset');\n    }\n\n    function setSize(messageData) {\n      function setDimension(dimension) {\n        if (!messageData.id) {\n          log('undefined', 'messageData id not set');\n          return;\n        }\n        messageData.iframe.style[dimension] = messageData[dimension] + 'px';\n        log(\n          messageData.id,\n          'IFrame (' +\n            iframeId +\n            ') ' +\n            dimension +\n            ' set to ' +\n            messageData[dimension] +\n            'px'\n        );\n      }\n\n      function chkZero(dimension) {\n        //FireFox sets dimension of hidden iFrames to zero.\n        //So if we detect that set up an event to check for\n        //when iFrame becomes visible.\n\n        /* istanbul ignore next */ //Not testable in PhantomJS\n        if (!hiddenCheckEnabled && '0' === messageData[dimension]) {\n          hiddenCheckEnabled = true;\n          log(iframeId, 'Hidden iFrame detected, creating visibility listener');\n          fixHiddenIFrames();\n        }\n      }\n\n      function processDimension(dimension) {\n        setDimension(dimension);\n        chkZero(dimension);\n      }\n\n      var iframeId = messageData.iframe.id;\n\n      if (settings[iframeId]) {\n        if (settings[iframeId].sizeHeight) {\n          processDimension('height');\n        }\n        if (settings[iframeId].sizeWidth) {\n          processDimension('width');\n        }\n      }\n    }\n\n    function syncResize(func, messageData, doNotSync) {\n      /* istanbul ignore if */ //Not testable in PhantomJS\n      if (doNotSync !== messageData.type && requestAnimationFrame) {\n        log(messageData.id, 'Requesting animation frame');\n        requestAnimationFrame(func);\n      } else {\n        func();\n      }\n    }\n\n    function trigger(calleeMsg, msg, iframe, id, noResponseWarning) {\n      function postMessageToIFrame() {\n        var target = settings[id] && settings[id].targetOrigin;\n        log(\n          id,\n          '[' +\n            calleeMsg +\n            '] Sending msg to iframe[' +\n            id +\n            '] (' +\n            msg +\n            ') targetOrigin: ' +\n            target\n        );\n        iframe.contentWindow.postMessage(msgId + msg, target);\n      }\n\n      function iFrameNotFound() {\n        warn(id, '[' + calleeMsg + '] IFrame(' + id + ') not found');\n      }\n\n      function chkAndSend() {\n        if (\n          iframe &&\n          'contentWindow' in iframe &&\n          null !== iframe.contentWindow\n        ) {\n          //Null test for PhantomJS\n          postMessageToIFrame();\n        } else {\n          iFrameNotFound();\n        }\n      }\n\n      function warnOnNoResponse() {\n        function warning() {\n          if (settings[id] && !settings[id].loaded && !errorShown) {\n            errorShown = true;\n            warn(\n              id,\n              'IFrame has not responded within ' +\n                settings[id].warningTimeout / 1000 +\n                ' seconds. Check iFrameResizer.contentWindow.js has been loaded in iFrame. This message can be ignored if everything is working, or you can set the warningTimeout option to a higher value or zero to suppress this warning.'\n            );\n          }\n        }\n\n        if (\n          !!noResponseWarning &&\n          settings[id] &&\n          !!settings[id].warningTimeout\n        ) {\n          settings[id].msgTimeout = setTimeout(\n            warning,\n            settings[id].warningTimeout\n          );\n        }\n      }\n\n      var errorShown = false;\n\n      id = id || iframe.id;\n\n      if (settings[id]) {\n        chkAndSend();\n        warnOnNoResponse();\n      }\n    }\n\n    function createOutgoingMsg(iframeId) {\n      return (\n        iframeId +\n        ':' +\n        settings[iframeId].bodyMarginV1 +\n        ':' +\n        settings[iframeId].sizeWidth +\n        ':' +\n        settings[iframeId].log +\n        ':' +\n        settings[iframeId].interval +\n        ':' +\n        settings[iframeId].enablePublicMethods +\n        ':' +\n        settings[iframeId].autoResize +\n        ':' +\n        settings[iframeId].bodyMargin +\n        ':' +\n        settings[iframeId].heightCalculationMethod +\n        ':' +\n        settings[iframeId].bodyBackground +\n        ':' +\n        settings[iframeId].bodyPadding +\n        ':' +\n        settings[iframeId].tolerance +\n        ':' +\n        settings[iframeId].inPageLinks +\n        ':' +\n        settings[iframeId].resizeFrom +\n        ':' +\n        settings[iframeId].widthCalculationMethod\n      );\n    }\n\n    function setupIFrame(iframe, options) {\n      function setLimits() {\n        function addStyle(style) {\n          if (\n            Infinity !== settings[iframeId][style] &&\n            0 !== settings[iframeId][style]\n          ) {\n            iframe.style[style] = settings[iframeId][style] + 'px';\n            log(\n              iframeId,\n              'Set ' + style + ' = ' + settings[iframeId][style] + 'px'\n            );\n          }\n        }\n\n        function chkMinMax(dimension) {\n          if (\n            settings[iframeId]['min' + dimension] >\n            settings[iframeId]['max' + dimension]\n          ) {\n            throw new Error(\n              'Value for min' +\n                dimension +\n                ' can not be greater than max' +\n                dimension\n            );\n          }\n        }\n\n        chkMinMax('Height');\n        chkMinMax('Width');\n\n        addStyle('maxHeight');\n        addStyle('minHeight');\n        addStyle('maxWidth');\n        addStyle('minWidth');\n      }\n\n      function newId() {\n        var id = (options && options.id) || defaults.id + count++;\n        if (null !== document.getElementById(id)) {\n          id = id + count++;\n        }\n        return id;\n      }\n\n      function ensureHasId(iframeId) {\n        logId = iframeId;\n        if ('' === iframeId) {\n          iframe.id = iframeId = newId();\n          logEnabled = (options || {}).log;\n          logId = iframeId;\n          log(\n            iframeId,\n            'Added missing iframe ID: ' + iframeId + ' (' + iframe.src + ')'\n          );\n        }\n\n        return iframeId;\n      }\n\n      function setScrolling() {\n        log(\n          iframeId,\n          'IFrame scrolling ' +\n            (settings[iframeId] && settings[iframeId].scrolling\n              ? 'enabled'\n              : 'disabled') +\n            ' for ' +\n            iframeId\n        );\n        iframe.style.overflow =\n          false === (settings[iframeId] && settings[iframeId].scrolling)\n            ? 'hidden'\n            : 'auto';\n        switch (settings[iframeId] && settings[iframeId].scrolling) {\n          case 'omit':\n            break;\n          case true:\n            iframe.scrolling = 'yes';\n            break;\n          case false:\n            iframe.scrolling = 'no';\n            break;\n          default:\n            iframe.scrolling = settings[iframeId]\n              ? settings[iframeId].scrolling\n              : 'no';\n        }\n      }\n\n      //The V1 iFrame script expects an int, where as in V2 expects a CSS\n      //string value such as '1px 3em', so if we have an int for V2, set V1=V2\n      //and then convert V2 to a string PX value.\n      function setupBodyMarginValues() {\n        if (\n          'number' ===\n            typeof (settings[iframeId] && settings[iframeId].bodyMargin) ||\n          '0' === (settings[iframeId] && settings[iframeId].bodyMargin)\n        ) {\n          settings[iframeId].bodyMarginV1 = settings[iframeId].bodyMargin;\n          settings[iframeId].bodyMargin =\n            '' + settings[iframeId].bodyMargin + 'px';\n        }\n      }\n\n      function checkReset() {\n        // Reduce scope of firstRun to function, because IE8's JS execution\n        // context stack is borked and this value gets externally\n        // changed midway through running this function!!!\n        var firstRun = settings[iframeId] && settings[iframeId].firstRun,\n          resetRequertMethod =\n            settings[iframeId] &&\n            settings[iframeId].heightCalculationMethod in resetRequiredMethods;\n\n        if (!firstRun && resetRequertMethod) {\n          resetIFrame({ iframe: iframe, height: 0, width: 0, type: 'init' });\n        }\n      }\n\n      function setupIFrameObject() {\n        if (Function.prototype.bind && settings[iframeId]) {\n          //Ignore unpolyfilled IE8.\n          settings[iframeId].iframe.iFrameResizer = {\n            close: closeIFrame.bind(null, settings[iframeId].iframe),\n\n            removeListeners: removeIframeListeners.bind(\n              null,\n              settings[iframeId].iframe\n            ),\n\n            resize: trigger.bind(\n              null,\n              'Window resize',\n              'resize',\n              settings[iframeId].iframe\n            ),\n\n            moveToAnchor: function(anchor) {\n              trigger(\n                'Move to anchor',\n                'moveToAnchor:' + anchor,\n                settings[iframeId].iframe,\n                iframeId\n              );\n            },\n\n            sendMessage: function(message) {\n              message = JSON.stringify(message);\n              trigger(\n                'Send Message',\n                'message:' + message,\n                settings[iframeId].iframe,\n                iframeId\n              );\n            }\n          };\n        }\n      }\n\n      //We have to call trigger twice, as we can not be sure if all\n      //iframes have completed loading when this code runs. The\n      //event listener also catches the page changing in the iFrame.\n      function init(msg) {\n        function iFrameLoaded() {\n          trigger('iFrame.onload', msg, iframe, undefined, true);\n          checkReset();\n        }\n\n        function createDestroyObserver(MutationObserver) {\n          if (!iframe.parentNode) {\n            return;\n          }\n\n          var destroyObserver = new MutationObserver(function (mutations) {\n            mutations.forEach(function (mutation) {\n              var removedNodes = Array.prototype.slice.call(mutation.removedNodes); // Transform NodeList into an Array\n              removedNodes.forEach(function (removedNode) {\n                if (removedNode === iframe) {\n                  closeIFrame(iframe);\n                }\n              });\n            });\n          });\n          destroyObserver.observe(iframe.parentNode, {\n            childList: true\n          });\n        }\n\n        var MutationObserver = getMutationObserver();\n        if (MutationObserver) {\n          createDestroyObserver(MutationObserver);\n        }\n\n        addEventListener(iframe, 'load', iFrameLoaded);\n        trigger('init', msg, iframe, undefined, true);\n      }\n\n      function checkOptions(options) {\n        if ('object' !== typeof options) {\n          throw new TypeError('Options is not an object');\n        }\n      }\n\n      function copyOptions(options) {\n        for (var option in defaults) {\n          if (defaults.hasOwnProperty(option)) {\n            settings[iframeId][option] = options.hasOwnProperty(option)\n              ? options[option]\n              : defaults[option];\n          }\n        }\n      }\n\n      function getTargetOrigin(remoteHost) {\n        return '' === remoteHost || 'file://' === remoteHost ? '*' : remoteHost;\n      }\n\n      function processOptions(options) {\n        options = options || {};\n        settings[iframeId] = {\n          firstRun: true,\n          iframe: iframe,\n          remoteHost: iframe.src\n            .split('/')\n            .slice(0, 3)\n            .join('/')\n        };\n\n        checkOptions(options);\n        copyOptions(options);\n\n        if (settings[iframeId]) {\n          settings[iframeId].targetOrigin =\n            true === settings[iframeId].checkOrigin\n              ? getTargetOrigin(settings[iframeId].remoteHost)\n              : '*';\n        }\n      }\n\n      function beenHere() {\n        return iframeId in settings && 'iFrameResizer' in iframe;\n      }\n\n      var iframeId = ensureHasId(iframe.id);\n\n      if (!beenHere()) {\n        processOptions(options);\n        setScrolling();\n        setLimits();\n        setupBodyMarginValues();\n        init(createOutgoingMsg(iframeId));\n        setupIFrameObject();\n      } else {\n        warn(iframeId, 'Ignored iFrame, already setup.');\n      }\n    }\n\n    function debouce(fn, time) {\n      if (null === timer) {\n        timer = setTimeout(function() {\n          timer = null;\n          fn();\n        }, time);\n      }\n    }\n\n    var frameTimer = {};\n    function debounceFrameEvents(fn, time, frameId) {\n      if (!frameTimer[frameId]) {\n        frameTimer[frameId] = setTimeout(function() {\n          frameTimer[frameId] = null;\n          fn();\n        }, time);\n      }\n    } //Not testable in PhantomJS\n\n    /* istanbul ignore next */ function fixHiddenIFrames() {\n      function checkIFrames() {\n        function checkIFrame(settingId) {\n          function chkDimension(dimension) {\n            return (\n              '0px' ===\n              (settings[settingId] && settings[settingId].iframe.style[dimension])\n            );\n          }\n\n          function isVisible(el) {\n            return null !== el.offsetParent;\n          }\n\n          if (\n            settings[settingId] &&\n            isVisible(settings[settingId].iframe) &&\n            (chkDimension('height') || chkDimension('width'))\n          ) {\n            trigger(\n              'Visibility change',\n              'resize',\n              settings[settingId].iframe,\n              settingId\n            );\n          }\n        }\n\n        for (var settingId in settings) {\n          checkIFrame(settingId);\n        }\n      }\n\n      function mutationObserved(mutations) {\n        log(\n          'window',\n          'Mutation observed: ' + mutations[0].target + ' ' + mutations[0].type\n        );\n        debouce(checkIFrames, 16);\n      }\n\n      function createMutationObserver() {\n        var target = document.querySelector('body'),\n          config = {\n            attributes: true,\n            attributeOldValue: false,\n            characterData: true,\n            characterDataOldValue: false,\n            childList: true,\n            subtree: true\n          },\n          observer = new MutationObserver(mutationObserved);\n\n        observer.observe(target, config);\n      }\n\n      var MutationObserver = getMutationObserver();\n      if (MutationObserver) {\n        createMutationObserver();\n      }\n    }\n\n    function resizeIFrames(event) {\n      function resize() {\n        sendTriggerMsg('Window ' + event, 'resize');\n      }\n\n      log('window', 'Trigger event: ' + event);\n      debouce(resize, 16);\n    } //Not testable in PhantomJS\n\n    /* istanbul ignore next */ function tabVisible() {\n      function resize() {\n        sendTriggerMsg('Tab Visable', 'resize');\n      }\n\n      if ('hidden' !== document.visibilityState) {\n        log('document', 'Trigger event: Visiblity change');\n        debouce(resize, 16);\n      }\n    }\n\n    function sendTriggerMsg(eventName, event) {\n      function isIFrameResizeEnabled(iframeId) {\n        return (\n          settings[iframeId] &&\n          'parent' === settings[iframeId].resizeFrom &&\n          settings[iframeId].autoResize &&\n          !settings[iframeId].firstRun\n        );\n      }\n\n      for (var iframeId in settings) {\n        if (isIFrameResizeEnabled(iframeId)) {\n          trigger(eventName, event, document.getElementById(iframeId), iframeId);\n        }\n      }\n    }\n\n    function setupEventListeners() {\n      addEventListener(window, 'message', iFrameListener);\n\n      addEventListener(window, 'resize', function() {\n        resizeIFrames('resize');\n      });\n\n      addEventListener(document, 'visibilitychange', tabVisible);\n      addEventListener(document, '-webkit-visibilitychange', tabVisible); //Andriod 4.4\n      addEventListener(window, 'focusin', function() {\n        resizeIFrames('focus');\n      }); //IE8-9\n      addEventListener(window, 'focus', function() {\n        resizeIFrames('focus');\n      });\n    }\n\n    function factory() {\n      function init(options, element) {\n        function chkType() {\n          if (!element.tagName) {\n            throw new TypeError('Object is not a valid DOM element');\n          } else if ('IFRAME' !== element.tagName.toUpperCase()) {\n            throw new TypeError(\n              'Expected <IFRAME> tag, found <' + element.tagName + '>'\n            );\n          }\n        }\n\n        if (element) {\n          chkType();\n          setupIFrame(element, options);\n          iFrames.push(element);\n        }\n      }\n\n      function warnDeprecatedOptions(options) {\n        if (options && options.enablePublicMethods) {\n          warn(\n            'enablePublicMethods option has been removed, public methods are now always available in the iFrame'\n          );\n        }\n      }\n\n      var iFrames;\n\n      setupRequestAnimationFrame();\n      setupEventListeners();\n\n      return function iFrameResizeF(options, target) {\n        iFrames = []; //Only return iFrames past in on this call\n\n        warnDeprecatedOptions(options);\n\n        switch (typeof target) {\n          case 'undefined':\n          case 'string':\n            Array.prototype.forEach.call(\n              document.querySelectorAll(target || 'iframe'),\n              init.bind(undefined, options)\n            );\n            break;\n          case 'object':\n            init(options, target);\n            break;\n          default:\n            throw new TypeError('Unexpected data type (' + typeof target + ')');\n        }\n\n        return iFrames;\n      };\n    }\n\n    function createJQueryPublicMethod($) {\n      if (!$.fn) {\n        info('', 'Unable to bind to jQuery, it is not fully loaded.');\n      } else if (!$.fn.iFrameResize) {\n        $.fn.iFrameResize = function $iFrameResizeF(options) {\n          function init(index, element) {\n            setupIFrame(element, options);\n          }\n\n          return this.filter('iframe')\n            .each(init)\n            .end();\n        };\n      }\n    }\n\n    if (window.jQuery) {\n      createJQueryPublicMethod(window.jQuery);\n    }\n\n    if (typeof undefined === 'function' && undefined.amd) {\n      undefined([], factory);\n    } else {\n      //Node for browserfy\n      module.exports = factory();\n    }\n    window.iFrameResize = window.iFrameResize || factory();\n  })();\n  });\n\n  var iframeResizer_contentWindow = createCommonjsModule(function (module) {\n  /*\n   * File: iframeResizer.contentWindow.js\n   * Desc: Include this file in any page being loaded into an iframe\n   *       to force the iframe to resize to the content size.\n   * Requires: iframeResizer.js on host page.\n   * Doc: https://github.com/davidjbradshaw/iframe-resizer\n   * Author: David J. Bradshaw - dave@bradshaw.net\n   * Contributor: Jure Mav - jure.mav@gmail.com\n   * Contributor: Ian Caunce - ian@hallnet.co.uk\n   */\n\n  (function(undefined) {\n\n    if (typeof window === 'undefined') return; // don't run for server side render\n\n    var autoResize = true,\n      base = 10,\n      bodyBackground = '',\n      bodyMargin = 0,\n      bodyMarginStr = '',\n      bodyObserver = null,\n      bodyPadding = '',\n      calculateWidth = false,\n      doubleEventList = { resize: 1, click: 1 },\n      eventCancelTimer = 128,\n      firstRun = true,\n      height = 1,\n      heightCalcModeDefault = 'bodyOffset',\n      heightCalcMode = heightCalcModeDefault,\n      initLock = true,\n      initMsg = '',\n      inPageLinks = {},\n      interval = 32,\n      intervalTimer = null,\n      logging = false,\n      msgID = '[iFrameSizer]', //Must match host page msg ID\n      msgIdLen = msgID.length,\n      myID = '',\n      resetRequiredMethods = {\n        max: 1,\n        min: 1,\n        bodyScroll: 1,\n        documentElementScroll: 1\n      },\n      resizeFrom = 'child',\n      sendPermit = true,\n      target = window.parent,\n      targetOriginDefault = '*',\n      tolerance = 0,\n      triggerLocked = false,\n      triggerLockedTimer = null,\n      throttledTimer = 16,\n      width = 1,\n      widthCalcModeDefault = 'scroll',\n      widthCalcMode = widthCalcModeDefault,\n      win = window,\n      messageCallback = function() {\n        warn('MessageCallback function not defined');\n      },\n      readyCallback = function() {},\n      pageInfoCallback = function() {},\n      customCalcMethods = {\n        height: function() {\n          warn('Custom height calculation function not defined');\n          return document.documentElement.offsetHeight;\n        },\n        width: function() {\n          warn('Custom width calculation function not defined');\n          return document.body.scrollWidth;\n        }\n      },\n      eventHandlersByName = {},\n      passiveSupported = false;\n\n    function noop() {}\n\n    try {\n      var options = Object.create(\n        {},\n        {\n          passive: {\n            get: function() {\n              passiveSupported = true;\n            }\n          },\n          once: {\n            get: function() {\n            }\n          }\n        }\n      );\n      window.addEventListener('test', noop, options);\n      window.removeEventListener('test', noop, options);\n    } catch (e) {\n      /* */\n    }\n\n    function addEventListener(el, evt, func, options) {\n      /* istanbul ignore else */ // Not testable in phantomJS\n      if ('addEventListener' in window) {\n        el.addEventListener(evt, func, passiveSupported ? options || {} : false);\n      } else if ('attachEvent' in window) {\n        //IE\n        el.attachEvent('on' + evt, func);\n      }\n    }\n\n    function removeEventListener(el, evt, func) {\n      /* istanbul ignore else */ // Not testable in phantomJS\n      if ('removeEventListener' in window) {\n        el.removeEventListener(evt, func, false);\n      } else if ('detachEvent' in window) {\n        //IE\n        el.detachEvent('on' + evt, func);\n      }\n    }\n\n    function capitalizeFirstLetter(string) {\n      return string.charAt(0).toUpperCase() + string.slice(1);\n    }\n\n    //Based on underscore.js\n    function throttle(func) {\n      var context,\n        args,\n        result,\n        timeout = null,\n        previous = 0,\n        later = function() {\n          previous = getNow();\n          timeout = null;\n          result = func.apply(context, args);\n          if (!timeout) {\n            context = args = null;\n          }\n        };\n\n      return function() {\n        var now = getNow();\n\n        if (!previous) {\n          previous = now;\n        }\n\n        var remaining = throttledTimer - (now - previous);\n\n        context = this;\n        args = arguments;\n\n        if (remaining <= 0 || remaining > throttledTimer) {\n          if (timeout) {\n            clearTimeout(timeout);\n            timeout = null;\n          }\n\n          previous = now;\n          result = func.apply(context, args);\n\n          if (!timeout) {\n            context = args = null;\n          }\n        } else if (!timeout) {\n          timeout = setTimeout(later, remaining);\n        }\n\n        return result;\n      };\n    }\n\n    var getNow =\n      Date.now ||\n      function() {\n        /* istanbul ignore next */ // Not testable in PhantonJS\n        return new Date().getTime();\n      };\n\n    function formatLogMsg(msg) {\n      return msgID + '[' + myID + ']' + ' ' + msg;\n    }\n\n    function log(msg) {\n      if (logging && 'object' === typeof window.console) {\n        console.log(formatLogMsg(msg));\n      }\n    }\n\n    function warn(msg) {\n      if ('object' === typeof window.console) {\n        console.warn(formatLogMsg(msg));\n      }\n    }\n\n    function init() {\n      readDataFromParent();\n      log('Initialising iFrame (' + location.href + ')');\n      readDataFromPage();\n      setMargin();\n      setBodyStyle('background', bodyBackground);\n      setBodyStyle('padding', bodyPadding);\n      injectClearFixIntoBodyElement();\n      checkHeightMode();\n      checkWidthMode();\n      stopInfiniteResizingOfIFrame();\n      setupPublicMethods();\n      startEventListeners();\n      inPageLinks = setupInPageLinks();\n      sendSize('init', 'Init message from host page');\n      readyCallback();\n    }\n\n    function readDataFromParent() {\n      function strBool(str) {\n        return 'true' === str ? true : false;\n      }\n\n      var data = initMsg.substr(msgIdLen).split(':');\n\n      myID = data[0];\n      bodyMargin = undefined !== data[1] ? Number(data[1]) : bodyMargin; //For V1 compatibility\n      calculateWidth = undefined !== data[2] ? strBool(data[2]) : calculateWidth;\n      logging = undefined !== data[3] ? strBool(data[3]) : logging;\n      interval = undefined !== data[4] ? Number(data[4]) : interval;\n      autoResize = undefined !== data[6] ? strBool(data[6]) : autoResize;\n      bodyMarginStr = data[7];\n      heightCalcMode = undefined !== data[8] ? data[8] : heightCalcMode;\n      bodyBackground = data[9];\n      bodyPadding = data[10];\n      tolerance = undefined !== data[11] ? Number(data[11]) : tolerance;\n      inPageLinks.enable = undefined !== data[12] ? strBool(data[12]) : false;\n      resizeFrom = undefined !== data[13] ? data[13] : resizeFrom;\n      widthCalcMode = undefined !== data[14] ? data[14] : widthCalcMode;\n    }\n\n    function readDataFromPage() {\n      function readData() {\n        var data = window.iFrameResizer;\n\n        log('Reading data from page: ' + JSON.stringify(data));\n\n        messageCallback =\n          'messageCallback' in data ? data.messageCallback : messageCallback;\n        readyCallback =\n          'readyCallback' in data ? data.readyCallback : readyCallback;\n        targetOriginDefault =\n          'targetOrigin' in data ? data.targetOrigin : targetOriginDefault;\n        heightCalcMode =\n          'heightCalculationMethod' in data\n            ? data.heightCalculationMethod\n            : heightCalcMode;\n        widthCalcMode =\n          'widthCalculationMethod' in data\n            ? data.widthCalculationMethod\n            : widthCalcMode;\n      }\n\n      function setupCustomCalcMethods(calcMode, calcFunc) {\n        if ('function' === typeof calcMode) {\n          log('Setup custom ' + calcFunc + 'CalcMethod');\n          customCalcMethods[calcFunc] = calcMode;\n          calcMode = 'custom';\n        }\n\n        return calcMode;\n      }\n\n      if (\n        'iFrameResizer' in window &&\n        Object === window.iFrameResizer.constructor\n      ) {\n        readData();\n        heightCalcMode = setupCustomCalcMethods(heightCalcMode, 'height');\n        widthCalcMode = setupCustomCalcMethods(widthCalcMode, 'width');\n      }\n\n      log('TargetOrigin for parent set to: ' + targetOriginDefault);\n    }\n\n    function chkCSS(attr, value) {\n      if (-1 !== value.indexOf('-')) {\n        warn('Negative CSS value ignored for ' + attr);\n        value = '';\n      }\n      return value;\n    }\n\n    function setBodyStyle(attr, value) {\n      if (undefined !== value && '' !== value && 'null' !== value) {\n        document.body.style[attr] = value;\n        log('Body ' + attr + ' set to \"' + value + '\"');\n      }\n    }\n\n    function setMargin() {\n      //If called via V1 script, convert bodyMargin from int to str\n      if (undefined === bodyMarginStr) {\n        bodyMarginStr = bodyMargin + 'px';\n      }\n\n      setBodyStyle('margin', chkCSS('margin', bodyMarginStr));\n    }\n\n    function stopInfiniteResizingOfIFrame() {\n      document.documentElement.style.height = '';\n      document.body.style.height = '';\n      log('HTML & body height set to \"auto\"');\n    }\n\n    function manageTriggerEvent(options) {\n      var listener = {\n        add: function(eventName) {\n          function handleEvent() {\n            sendSize(options.eventName, options.eventType);\n          }\n\n          eventHandlersByName[eventName] = handleEvent;\n\n          addEventListener(window, eventName, handleEvent, { passive: true });\n        },\n        remove: function(eventName) {\n          var handleEvent = eventHandlersByName[eventName];\n          delete eventHandlersByName[eventName];\n\n          removeEventListener(window, eventName, handleEvent);\n        }\n      };\n\n      if (options.eventNames && Array.prototype.map) {\n        options.eventName = options.eventNames[0];\n        options.eventNames.map(listener[options.method]);\n      } else {\n        listener[options.method](options.eventName);\n      }\n\n      log(\n        capitalizeFirstLetter(options.method) +\n          ' event listener: ' +\n          options.eventType\n      );\n    }\n\n    function manageEventListeners(method) {\n      manageTriggerEvent({\n        method: method,\n        eventType: 'Animation Start',\n        eventNames: ['animationstart', 'webkitAnimationStart']\n      });\n      manageTriggerEvent({\n        method: method,\n        eventType: 'Animation Iteration',\n        eventNames: ['animationiteration', 'webkitAnimationIteration']\n      });\n      manageTriggerEvent({\n        method: method,\n        eventType: 'Animation End',\n        eventNames: ['animationend', 'webkitAnimationEnd']\n      });\n      manageTriggerEvent({\n        method: method,\n        eventType: 'Input',\n        eventName: 'input'\n      });\n      manageTriggerEvent({\n        method: method,\n        eventType: 'Mouse Up',\n        eventName: 'mouseup'\n      });\n      manageTriggerEvent({\n        method: method,\n        eventType: 'Mouse Down',\n        eventName: 'mousedown'\n      });\n      manageTriggerEvent({\n        method: method,\n        eventType: 'Orientation Change',\n        eventName: 'orientationchange'\n      });\n      manageTriggerEvent({\n        method: method,\n        eventType: 'Print',\n        eventName: ['afterprint', 'beforeprint']\n      });\n      manageTriggerEvent({\n        method: method,\n        eventType: 'Ready State Change',\n        eventName: 'readystatechange'\n      });\n      manageTriggerEvent({\n        method: method,\n        eventType: 'Touch Start',\n        eventName: 'touchstart'\n      });\n      manageTriggerEvent({\n        method: method,\n        eventType: 'Touch End',\n        eventName: 'touchend'\n      });\n      manageTriggerEvent({\n        method: method,\n        eventType: 'Touch Cancel',\n        eventName: 'touchcancel'\n      });\n      manageTriggerEvent({\n        method: method,\n        eventType: 'Transition Start',\n        eventNames: [\n          'transitionstart',\n          'webkitTransitionStart',\n          'MSTransitionStart',\n          'oTransitionStart',\n          'otransitionstart'\n        ]\n      });\n      manageTriggerEvent({\n        method: method,\n        eventType: 'Transition Iteration',\n        eventNames: [\n          'transitioniteration',\n          'webkitTransitionIteration',\n          'MSTransitionIteration',\n          'oTransitionIteration',\n          'otransitioniteration'\n        ]\n      });\n      manageTriggerEvent({\n        method: method,\n        eventType: 'Transition End',\n        eventNames: [\n          'transitionend',\n          'webkitTransitionEnd',\n          'MSTransitionEnd',\n          'oTransitionEnd',\n          'otransitionend'\n        ]\n      });\n      if ('child' === resizeFrom) {\n        manageTriggerEvent({\n          method: method,\n          eventType: 'IFrame Resized',\n          eventName: 'resize'\n        });\n      }\n    }\n\n    function checkCalcMode(calcMode, calcModeDefault, modes, type) {\n      if (calcModeDefault !== calcMode) {\n        if (!(calcMode in modes)) {\n          warn(\n            calcMode + ' is not a valid option for ' + type + 'CalculationMethod.'\n          );\n          calcMode = calcModeDefault;\n        }\n        log(type + ' calculation method set to \"' + calcMode + '\"');\n      }\n\n      return calcMode;\n    }\n\n    function checkHeightMode() {\n      heightCalcMode = checkCalcMode(\n        heightCalcMode,\n        heightCalcModeDefault,\n        getHeight,\n        'height'\n      );\n    }\n\n    function checkWidthMode() {\n      widthCalcMode = checkCalcMode(\n        widthCalcMode,\n        widthCalcModeDefault,\n        getWidth,\n        'width'\n      );\n    }\n\n    function startEventListeners() {\n      if (true === autoResize) {\n        manageEventListeners('add');\n        setupMutationObserver();\n      } else {\n        log('Auto Resize disabled');\n      }\n    }\n\n    function stopMsgsToParent() {\n      log('Disable outgoing messages');\n      sendPermit = false;\n    }\n\n    function removeMsgListener() {\n      log('Remove event listener: Message');\n      removeEventListener(window, 'message', receiver);\n    }\n\n    function disconnectMutationObserver() {\n      if (null !== bodyObserver) {\n        /* istanbul ignore next */ // Not testable in PhantonJS\n        bodyObserver.disconnect();\n      }\n    }\n\n    function stopEventListeners() {\n      manageEventListeners('remove');\n      disconnectMutationObserver();\n      clearInterval(intervalTimer);\n    }\n\n    function teardown() {\n      stopMsgsToParent();\n      removeMsgListener();\n      if (true === autoResize) stopEventListeners();\n    }\n\n    function injectClearFixIntoBodyElement() {\n      var clearFix = document.createElement('div');\n      clearFix.style.clear = 'both';\n      clearFix.style.display = 'block'; //Guard against this having been globally redefined in CSS.\n      document.body.appendChild(clearFix);\n    }\n\n    function setupInPageLinks() {\n      function getPagePosition() {\n        return {\n          x:\n            window.pageXOffset !== undefined\n              ? window.pageXOffset\n              : document.documentElement.scrollLeft,\n          y:\n            window.pageYOffset !== undefined\n              ? window.pageYOffset\n              : document.documentElement.scrollTop\n        };\n      }\n\n      function getElementPosition(el) {\n        var elPosition = el.getBoundingClientRect(),\n          pagePosition = getPagePosition();\n\n        return {\n          x: parseInt(elPosition.left, 10) + parseInt(pagePosition.x, 10),\n          y: parseInt(elPosition.top, 10) + parseInt(pagePosition.y, 10)\n        };\n      }\n\n      function findTarget(location) {\n        function jumpToTarget(target) {\n          var jumpPosition = getElementPosition(target);\n\n          log(\n            'Moving to in page link (#' +\n              hash +\n              ') at x: ' +\n              jumpPosition.x +\n              ' y: ' +\n              jumpPosition.y\n          );\n          sendMsg(jumpPosition.y, jumpPosition.x, 'scrollToOffset'); // X&Y reversed at sendMsg uses height/width\n        }\n\n        var hash = location.split('#')[1] || location, //Remove # if present\n          hashData = decodeURIComponent(hash),\n          target =\n            document.getElementById(hashData) ||\n            document.getElementsByName(hashData)[0];\n\n        if (undefined !== target) {\n          jumpToTarget(target);\n        } else {\n          log(\n            'In page link (#' +\n              hash +\n              ') not found in iFrame, so sending to parent'\n          );\n          sendMsg(0, 0, 'inPageLink', '#' + hash);\n        }\n      }\n\n      function checkLocationHash() {\n        if ('' !== location.hash && '#' !== location.hash) {\n          findTarget(location.href);\n        }\n      }\n\n      function bindAnchors() {\n        function setupLink(el) {\n          function linkClicked(e) {\n            e.preventDefault();\n\n            /*jshint validthis:true */\n            findTarget(this.getAttribute('href'));\n          }\n\n          if ('#' !== el.getAttribute('href')) {\n            addEventListener(el, 'click', linkClicked);\n          }\n        }\n\n        Array.prototype.forEach.call(\n          document.querySelectorAll('a[href^=\"#\"]'),\n          setupLink\n        );\n      }\n\n      function bindLocationHash() {\n        addEventListener(window, 'hashchange', checkLocationHash);\n      }\n\n      function initCheck() {\n        //check if page loaded with location hash after init resize\n        setTimeout(checkLocationHash, eventCancelTimer);\n      }\n\n      function enableInPageLinks() {\n        /* istanbul ignore else */ // Not testable in phantonJS\n        if (Array.prototype.forEach && document.querySelectorAll) {\n          log('Setting up location.hash handlers');\n          bindAnchors();\n          bindLocationHash();\n          initCheck();\n        } else {\n          warn(\n            'In page linking not fully supported in this browser! (See README.md for IE8 workaround)'\n          );\n        }\n      }\n\n      if (inPageLinks.enable) {\n        enableInPageLinks();\n      } else {\n        log('In page linking not enabled');\n      }\n\n      return {\n        findTarget: findTarget\n      };\n    }\n\n    function setupPublicMethods() {\n      log('Enable public methods');\n\n      win.parentIFrame = {\n        autoResize: function autoResizeF(resize) {\n          if (true === resize && false === autoResize) {\n            autoResize = true;\n            startEventListeners();\n            //sendSize('autoResize','Auto Resize enabled');\n          } else if (false === resize && true === autoResize) {\n            autoResize = false;\n            stopEventListeners();\n          }\n\n          return autoResize;\n        },\n\n        close: function closeF() {\n          sendMsg(0, 0, 'close');\n          teardown();\n        },\n\n        getId: function getIdF() {\n          return myID;\n        },\n\n        getPageInfo: function getPageInfoF(callback) {\n          if ('function' === typeof callback) {\n            pageInfoCallback = callback;\n            sendMsg(0, 0, 'pageInfo');\n          } else {\n            pageInfoCallback = function() {};\n            sendMsg(0, 0, 'pageInfoStop');\n          }\n        },\n\n        moveToAnchor: function moveToAnchorF(hash) {\n          inPageLinks.findTarget(hash);\n        },\n\n        reset: function resetF() {\n          resetIFrame('parentIFrame.reset');\n        },\n\n        scrollTo: function scrollToF(x, y) {\n          sendMsg(y, x, 'scrollTo'); // X&Y reversed at sendMsg uses height/width\n        },\n\n        scrollToOffset: function scrollToF(x, y) {\n          sendMsg(y, x, 'scrollToOffset'); // X&Y reversed at sendMsg uses height/width\n        },\n\n        sendMessage: function sendMessageF(msg, targetOrigin) {\n          sendMsg(0, 0, 'message', JSON.stringify(msg), targetOrigin);\n        },\n\n        setHeightCalculationMethod: function setHeightCalculationMethodF(\n          heightCalculationMethod\n        ) {\n          heightCalcMode = heightCalculationMethod;\n          checkHeightMode();\n        },\n\n        setWidthCalculationMethod: function setWidthCalculationMethodF(\n          widthCalculationMethod\n        ) {\n          widthCalcMode = widthCalculationMethod;\n          checkWidthMode();\n        },\n\n        setTargetOrigin: function setTargetOriginF(targetOrigin) {\n          log('Set targetOrigin: ' + targetOrigin);\n          targetOriginDefault = targetOrigin;\n        },\n\n        size: function sizeF(customHeight, customWidth) {\n          var valString =\n            '' +\n            (customHeight ? customHeight : '') +\n            (customWidth ? ',' + customWidth : '');\n          //lockTrigger();\n          sendSize(\n            'size',\n            'parentIFrame.size(' + valString + ')',\n            customHeight,\n            customWidth\n          );\n        }\n      };\n    }\n\n    function initInterval() {\n      if (0 !== interval) {\n        log('setInterval: ' + interval + 'ms');\n        intervalTimer = setInterval(function() {\n          sendSize('interval', 'setInterval: ' + interval);\n        }, Math.abs(interval));\n      }\n    } //Not testable in PhantomJS\n\n    /* istanbul ignore next */ function setupBodyMutationObserver() {\n      function addImageLoadListners(mutation) {\n        function addImageLoadListener(element) {\n          if (false === element.complete) {\n            log('Attach listeners to ' + element.src);\n            element.addEventListener('load', imageLoaded, false);\n            element.addEventListener('error', imageError, false);\n            elements.push(element);\n          }\n        }\n\n        if (mutation.type === 'attributes' && mutation.attributeName === 'src') {\n          addImageLoadListener(mutation.target);\n        } else if (mutation.type === 'childList') {\n          Array.prototype.forEach.call(\n            mutation.target.querySelectorAll('img'),\n            addImageLoadListener\n          );\n        }\n      }\n\n      function removeFromArray(element) {\n        elements.splice(elements.indexOf(element), 1);\n      }\n\n      function removeImageLoadListener(element) {\n        log('Remove listeners from ' + element.src);\n        element.removeEventListener('load', imageLoaded, false);\n        element.removeEventListener('error', imageError, false);\n        removeFromArray(element);\n      }\n\n      function imageEventTriggered(event, type, typeDesc) {\n        removeImageLoadListener(event.target);\n        sendSize(type, typeDesc + ': ' + event.target.src, undefined, undefined);\n      }\n\n      function imageLoaded(event) {\n        imageEventTriggered(event, 'imageLoad', 'Image loaded');\n      }\n\n      function imageError(event) {\n        imageEventTriggered(event, 'imageLoadFailed', 'Image load failed');\n      }\n\n      function mutationObserved(mutations) {\n        sendSize(\n          'mutationObserver',\n          'mutationObserver: ' + mutations[0].target + ' ' + mutations[0].type\n        );\n\n        //Deal with WebKit asyncing image loading when tags are injected into the page\n        mutations.forEach(addImageLoadListners);\n      }\n\n      function createMutationObserver() {\n        var target = document.querySelector('body'),\n          config = {\n            attributes: true,\n            attributeOldValue: false,\n            characterData: true,\n            characterDataOldValue: false,\n            childList: true,\n            subtree: true\n          };\n\n        observer = new MutationObserver(mutationObserved);\n\n        log('Create body MutationObserver');\n        observer.observe(target, config);\n\n        return observer;\n      }\n\n      var elements = [],\n        MutationObserver =\n          window.MutationObserver || window.WebKitMutationObserver,\n        observer = createMutationObserver();\n\n      return {\n        disconnect: function() {\n          if ('disconnect' in observer) {\n            log('Disconnect body MutationObserver');\n            observer.disconnect();\n            elements.forEach(removeImageLoadListener);\n          }\n        }\n      };\n    }\n\n    function setupMutationObserver() {\n      var forceIntervalTimer = 0 > interval; // Not testable in PhantomJS\n\n      /* istanbul ignore if */ if (\n        window.MutationObserver ||\n        window.WebKitMutationObserver\n      ) {\n        if (forceIntervalTimer) {\n          initInterval();\n        } else {\n          bodyObserver = setupBodyMutationObserver();\n        }\n      } else {\n        log('MutationObserver not supported in this browser!');\n        initInterval();\n      }\n    }\n\n    // document.documentElement.offsetHeight is not reliable, so\n    // we have to jump through hoops to get a better value.\n    function getComputedStyle(prop, el) {\n      /* istanbul ignore next */ //Not testable in PhantomJS\n      function convertUnitsToPxForIE8(value) {\n        var PIXEL = /^\\d+(px)?$/i;\n\n        if (PIXEL.test(value)) {\n          return parseInt(value, base);\n        }\n\n        var style = el.style.left,\n          runtimeStyle = el.runtimeStyle.left;\n\n        el.runtimeStyle.left = el.currentStyle.left;\n        el.style.left = value || 0;\n        value = el.style.pixelLeft;\n        el.style.left = style;\n        el.runtimeStyle.left = runtimeStyle;\n\n        return value;\n      }\n\n      var retVal = 0;\n      el = el || document.body; // Not testable in phantonJS\n\n      /* istanbul ignore else */ if (\n        'defaultView' in document &&\n        'getComputedStyle' in document.defaultView\n      ) {\n        retVal = document.defaultView.getComputedStyle(el, null);\n        retVal = null !== retVal ? retVal[prop] : 0;\n      } else {\n        //IE8\n        retVal = convertUnitsToPxForIE8(el.currentStyle[prop]);\n      }\n\n      return parseInt(retVal, base);\n    }\n\n    function chkEventThottle(timer) {\n      if (timer > throttledTimer / 2) {\n        throttledTimer = 2 * timer;\n        log('Event throttle increased to ' + throttledTimer + 'ms');\n      }\n    }\n\n    //Idea from https://github.com/guardian/iframe-messenger\n    function getMaxElement(side, elements) {\n      var elementsLength = elements.length,\n        elVal = 0,\n        maxVal = 0,\n        Side = capitalizeFirstLetter(side),\n        timer = getNow();\n\n      for (var i = 0; i < elementsLength; i++) {\n        elVal =\n          elements[i].getBoundingClientRect()[side] +\n          getComputedStyle('margin' + Side, elements[i]);\n        if (elVal > maxVal) {\n          maxVal = elVal;\n        }\n      }\n\n      timer = getNow() - timer;\n\n      log('Parsed ' + elementsLength + ' HTML elements');\n      log('Element position calculated in ' + timer + 'ms');\n\n      chkEventThottle(timer);\n\n      return maxVal;\n    }\n\n    function getAllMeasurements(dimention) {\n      return [\n        dimention.bodyOffset(),\n        dimention.bodyScroll(),\n        dimention.documentElementOffset(),\n        dimention.documentElementScroll()\n      ];\n    }\n\n    function getTaggedElements(side, tag) {\n      function noTaggedElementsFound() {\n        warn('No tagged elements (' + tag + ') found on page');\n        return document.querySelectorAll('body *');\n      }\n\n      var elements = document.querySelectorAll('[' + tag + ']');\n\n      if (0 === elements.length) noTaggedElementsFound();\n\n      return getMaxElement(side, elements);\n    }\n\n    function getAllElements() {\n      return document.querySelectorAll('body *');\n    }\n\n    var getHeight = {\n        bodyOffset: function getBodyOffsetHeight() {\n          return (\n            document.body.offsetHeight +\n            getComputedStyle('marginTop') +\n            getComputedStyle('marginBottom')\n          );\n        },\n\n        offset: function() {\n          return getHeight.bodyOffset(); //Backwards compatability\n        },\n\n        bodyScroll: function getBodyScrollHeight() {\n          return document.body.scrollHeight;\n        },\n\n        custom: function getCustomWidth() {\n          return customCalcMethods.height();\n        },\n\n        documentElementOffset: function getDEOffsetHeight() {\n          return document.documentElement.offsetHeight;\n        },\n\n        documentElementScroll: function getDEScrollHeight() {\n          return document.documentElement.scrollHeight;\n        },\n\n        max: function getMaxHeight() {\n          return Math.max.apply(null, getAllMeasurements(getHeight));\n        },\n\n        min: function getMinHeight() {\n          return Math.min.apply(null, getAllMeasurements(getHeight));\n        },\n\n        grow: function growHeight() {\n          return getHeight.max(); //Run max without the forced downsizing\n        },\n\n        lowestElement: function getBestHeight() {\n          return Math.max(\n            getHeight.bodyOffset() || getHeight.documentElementOffset(),\n            getMaxElement('bottom', getAllElements())\n          );\n        },\n\n        taggedElement: function getTaggedElementsHeight() {\n          return getTaggedElements('bottom', 'data-iframe-height');\n        }\n      },\n      getWidth = {\n        bodyScroll: function getBodyScrollWidth() {\n          return document.body.scrollWidth;\n        },\n\n        bodyOffset: function getBodyOffsetWidth() {\n          return document.body.offsetWidth;\n        },\n\n        custom: function getCustomWidth() {\n          return customCalcMethods.width();\n        },\n\n        documentElementScroll: function getDEScrollWidth() {\n          return document.documentElement.scrollWidth;\n        },\n\n        documentElementOffset: function getDEOffsetWidth() {\n          return document.documentElement.offsetWidth;\n        },\n\n        scroll: function getMaxWidth() {\n          return Math.max(\n            getWidth.bodyScroll(),\n            getWidth.documentElementScroll()\n          );\n        },\n\n        max: function getMaxWidth() {\n          return Math.max.apply(null, getAllMeasurements(getWidth));\n        },\n\n        min: function getMinWidth() {\n          return Math.min.apply(null, getAllMeasurements(getWidth));\n        },\n\n        rightMostElement: function rightMostElement() {\n          return getMaxElement('right', getAllElements());\n        },\n\n        taggedElement: function getTaggedElementsWidth() {\n          return getTaggedElements('right', 'data-iframe-width');\n        }\n      };\n\n    function sizeIFrame(\n      triggerEvent,\n      triggerEventDesc,\n      customHeight,\n      customWidth\n    ) {\n      function resizeIFrame() {\n        height = currentHeight;\n        width = currentWidth;\n\n        sendMsg(height, width, triggerEvent);\n      }\n\n      function isSizeChangeDetected() {\n        function checkTolarance(a, b) {\n          var retVal = Math.abs(a - b) <= tolerance;\n          return !retVal;\n        }\n\n        currentHeight =\n          undefined !== customHeight ? customHeight : getHeight[heightCalcMode]();\n        currentWidth =\n          undefined !== customWidth ? customWidth : getWidth[widthCalcMode]();\n\n        return (\n          checkTolarance(height, currentHeight) ||\n          (calculateWidth && checkTolarance(width, currentWidth))\n        );\n      }\n\n      function isForceResizableEvent() {\n        return !(triggerEvent in { init: 1, interval: 1, size: 1 });\n      }\n\n      function isForceResizableCalcMode() {\n        return (\n          heightCalcMode in resetRequiredMethods ||\n          (calculateWidth && widthCalcMode in resetRequiredMethods)\n        );\n      }\n\n      function logIgnored() {\n        log('No change in size detected');\n      }\n\n      function checkDownSizing() {\n        if (isForceResizableEvent() && isForceResizableCalcMode()) {\n          resetIFrame(triggerEventDesc);\n        } else if (!(triggerEvent in { interval: 1 })) {\n          logIgnored();\n        }\n      }\n\n      var currentHeight, currentWidth;\n\n      if (isSizeChangeDetected() || 'init' === triggerEvent) {\n        lockTrigger();\n        resizeIFrame();\n      } else {\n        checkDownSizing();\n      }\n    }\n\n    var sizeIFrameThrottled = throttle(sizeIFrame);\n\n    function sendSize(triggerEvent, triggerEventDesc, customHeight, customWidth) {\n      function recordTrigger() {\n        if (!(triggerEvent in { reset: 1, resetPage: 1, init: 1 })) {\n          log('Trigger event: ' + triggerEventDesc);\n        }\n      }\n\n      function isDoubleFiredEvent() {\n        return triggerLocked && triggerEvent in doubleEventList;\n      }\n\n      if (!isDoubleFiredEvent()) {\n        recordTrigger();\n        if (triggerEvent === 'init') {\n          sizeIFrame(triggerEvent, triggerEventDesc, customHeight, customWidth);\n        } else {\n          sizeIFrameThrottled(\n            triggerEvent,\n            triggerEventDesc,\n            customHeight,\n            customWidth\n          );\n        }\n      } else {\n        log('Trigger event cancelled: ' + triggerEvent);\n      }\n    }\n\n    function lockTrigger() {\n      if (!triggerLocked) {\n        triggerLocked = true;\n        log('Trigger event lock on');\n      }\n      clearTimeout(triggerLockedTimer);\n      triggerLockedTimer = setTimeout(function() {\n        triggerLocked = false;\n        log('Trigger event lock off');\n        log('--');\n      }, eventCancelTimer);\n    }\n\n    function triggerReset(triggerEvent) {\n      height = getHeight[heightCalcMode]();\n      width = getWidth[widthCalcMode]();\n\n      sendMsg(height, width, triggerEvent);\n    }\n\n    function resetIFrame(triggerEventDesc) {\n      var hcm = heightCalcMode;\n      heightCalcMode = heightCalcModeDefault;\n\n      log('Reset trigger event: ' + triggerEventDesc);\n      lockTrigger();\n      triggerReset('reset');\n\n      heightCalcMode = hcm;\n    }\n\n    function sendMsg(height, width, triggerEvent, msg, targetOrigin) {\n      function setTargetOrigin() {\n        if (undefined === targetOrigin) {\n          targetOrigin = targetOriginDefault;\n        } else {\n          log('Message targetOrigin: ' + targetOrigin);\n        }\n      }\n\n      function sendToParent() {\n        var size = height + ':' + width,\n          message =\n            myID +\n            ':' +\n            size +\n            ':' +\n            triggerEvent +\n            (undefined !== msg ? ':' + msg : '');\n\n        log('Sending message to host page (' + message + ')');\n        target.postMessage(msgID + message, targetOrigin);\n      }\n\n      if (true === sendPermit) {\n        setTargetOrigin();\n        sendToParent();\n      }\n    }\n\n    function receiver(event) {\n      var processRequestFromParent = {\n        init: function initFromParent() {\n          initMsg = event.data;\n          target = event.source;\n\n          init();\n          firstRun = false;\n          setTimeout(function() {\n            initLock = false;\n          }, eventCancelTimer);\n        },\n\n        reset: function resetFromParent() {\n          if (!initLock) {\n            log('Page size reset by host page');\n            triggerReset('resetPage');\n          } else {\n            log('Page reset ignored by init');\n          }\n        },\n\n        resize: function resizeFromParent() {\n          sendSize('resizeParent', 'Parent window requested size check');\n        },\n\n        moveToAnchor: function moveToAnchorF() {\n          inPageLinks.findTarget(getData());\n        },\n        inPageLink: function inPageLinkF() {\n          this.moveToAnchor();\n        }, //Backward compatability\n\n        pageInfo: function pageInfoFromParent() {\n          var msgBody = getData();\n          log('PageInfoFromParent called from parent: ' + msgBody);\n          pageInfoCallback(JSON.parse(msgBody));\n          log(' --');\n        },\n\n        message: function messageFromParent() {\n          var msgBody = getData();\n\n          log('MessageCallback called from parent: ' + msgBody);\n          messageCallback(JSON.parse(msgBody));\n          log(' --');\n        }\n      };\n\n      function isMessageForUs() {\n        return msgID === ('' + event.data).substr(0, msgIdLen); //''+ Protects against non-string messages\n      }\n\n      function getMessageType() {\n        return event.data.split(']')[1].split(':')[0];\n      }\n\n      function getData() {\n        return event.data.substr(event.data.indexOf(':') + 1);\n      }\n\n      function isMiddleTier() {\n        return (\n          (!(module.exports) &&\n            'iFrameResize' in window) ||\n          ('jQuery' in window && 'iFrameResize' in window.jQuery.prototype)\n        );\n      }\n\n      function isInitMsg() {\n        //Test if this message is from a child below us. This is an ugly test, however, updating\n        //the message format would break backwards compatibity.\n        return event.data.split(':')[2] in { true: 1, false: 1 };\n      }\n\n      function callFromParent() {\n        var messageType = getMessageType();\n\n        if (messageType in processRequestFromParent) {\n          processRequestFromParent[messageType]();\n        } else if (!isMiddleTier() && !isInitMsg()) {\n          warn('Unexpected message (' + event.data + ')');\n        }\n      }\n\n      function processMessage() {\n        if (false === firstRun) {\n          callFromParent();\n        } else if (isInitMsg()) {\n          processRequestFromParent.init();\n        } else {\n          log(\n            'Ignored message of type \"' +\n              getMessageType() +\n              '\". Received before initialization.'\n          );\n        }\n      }\n\n      if (isMessageForUs()) {\n        processMessage();\n      }\n    }\n\n    //Normally the parent kicks things off when it detects the iFrame has loaded.\n    //If this script is async-loaded, then tell parent page to retry init.\n    function chkLateLoaded() {\n      if ('loading' !== document.readyState) {\n        window.parent.postMessage('[iFrameResizerChild]Ready', '*');\n      }\n    }\n\n    addEventListener(window, 'message', receiver);\n    addEventListener(window, 'readystatechange', chkLateLoaded);\n    chkLateLoaded();\n\n    \n  })();\n  });\n\n  var iframeResizer$1 = iframeResizer;\n  var iframeResizerContentWindow = iframeResizer_contentWindow;\n\n  var js = {\n  \tiframeResizer: iframeResizer$1,\n  \tiframeResizerContentWindow: iframeResizerContentWindow\n  };\n\n  var iframeResizer$2 = js;\n\n  // The iframe-resizer module seems to export it's methods in an odd way\n\n  function Example ($module) {\n    this.$module = $module;\n  }\n\n  Example.prototype.init = function () {\n    var $module = this.$module;\n    if (!$module) {\n      return\n    }\n    this.resize();\n  };\n  Example.prototype.resize = function () {\n    var $module = this.$module;\n\n    try {\n      // Example iframe; set the height equal to the body height\n      iframeResizer$2.iframeResizer({ scrolling: 'auto', autoResize: true }, $module);\n    } catch (err) {\n      if (err) {\n        console.error(err.message);\n      }\n    }\n  };\n\n  var bind = createCommonjsModule(function (module, exports) {\n  (function (global, factory) {\n  \tfactory();\n  }(commonjsGlobal, (function () {\n  (function(undefined) {\n\n  // Detection from https://github.com/Financial-Times/polyfill-service/blob/master/packages/polyfill-library/polyfills/Object/defineProperty/detect.js\n  var detect = (\n    // In IE8, defineProperty could only act on DOM elements, so full support\n    // for the feature requires the ability to set a property on an arbitrary object\n    'defineProperty' in Object && (function() {\n    \ttry {\n    \t\tvar a = {};\n    \t\tObject.defineProperty(a, 'test', {value:42});\n    \t\treturn true;\n    \t} catch(e) {\n    \t\treturn false\n    \t}\n    }())\n  );\n\n  if (detect) return\n\n  // Polyfill from https://cdn.polyfill.io/v2/polyfill.js?features=Object.defineProperty&flags=always\n  (function (nativeDefineProperty) {\n\n  \tvar supportsAccessors = Object.prototype.hasOwnProperty('__defineGetter__');\n  \tvar ERR_ACCESSORS_NOT_SUPPORTED = 'Getters & setters cannot be defined on this javascript engine';\n  \tvar ERR_VALUE_ACCESSORS = 'A property cannot both have accessors and be writable or have a value';\n\n  \tObject.defineProperty = function defineProperty(object, property, descriptor) {\n\n  \t\t// Where native support exists, assume it\n  \t\tif (nativeDefineProperty && (object === window || object === document || object === Element.prototype || object instanceof Element)) {\n  \t\t\treturn nativeDefineProperty(object, property, descriptor);\n  \t\t}\n\n  \t\tif (object === null || !(object instanceof Object || typeof object === 'object')) {\n  \t\t\tthrow new TypeError('Object.defineProperty called on non-object');\n  \t\t}\n\n  \t\tif (!(descriptor instanceof Object)) {\n  \t\t\tthrow new TypeError('Property description must be an object');\n  \t\t}\n\n  \t\tvar propertyString = String(property);\n  \t\tvar hasValueOrWritable = 'value' in descriptor || 'writable' in descriptor;\n  \t\tvar getterType = 'get' in descriptor && typeof descriptor.get;\n  \t\tvar setterType = 'set' in descriptor && typeof descriptor.set;\n\n  \t\t// handle descriptor.get\n  \t\tif (getterType) {\n  \t\t\tif (getterType !== 'function') {\n  \t\t\t\tthrow new TypeError('Getter must be a function');\n  \t\t\t}\n  \t\t\tif (!supportsAccessors) {\n  \t\t\t\tthrow new TypeError(ERR_ACCESSORS_NOT_SUPPORTED);\n  \t\t\t}\n  \t\t\tif (hasValueOrWritable) {\n  \t\t\t\tthrow new TypeError(ERR_VALUE_ACCESSORS);\n  \t\t\t}\n  \t\t\tObject.__defineGetter__.call(object, propertyString, descriptor.get);\n  \t\t} else {\n  \t\t\tobject[propertyString] = descriptor.value;\n  \t\t}\n\n  \t\t// handle descriptor.set\n  \t\tif (setterType) {\n  \t\t\tif (setterType !== 'function') {\n  \t\t\t\tthrow new TypeError('Setter must be a function');\n  \t\t\t}\n  \t\t\tif (!supportsAccessors) {\n  \t\t\t\tthrow new TypeError(ERR_ACCESSORS_NOT_SUPPORTED);\n  \t\t\t}\n  \t\t\tif (hasValueOrWritable) {\n  \t\t\t\tthrow new TypeError(ERR_VALUE_ACCESSORS);\n  \t\t\t}\n  \t\t\tObject.__defineSetter__.call(object, propertyString, descriptor.set);\n  \t\t}\n\n  \t\t// OK to define value unconditionally - if a getter has been specified as well, an error would be thrown above\n  \t\tif ('value' in descriptor) {\n  \t\t\tobject[propertyString] = descriptor.value;\n  \t\t}\n\n  \t\treturn object;\n  \t};\n  }(Object.defineProperty));\n  })\n  .call('object' === typeof window && window || 'object' === typeof self && self || 'object' === typeof commonjsGlobal && commonjsGlobal || {});\n\n  (function(undefined) {\n    // Detection from https://github.com/Financial-Times/polyfill-service/blob/master/packages/polyfill-library/polyfills/Function/prototype/bind/detect.js\n    var detect = 'bind' in Function.prototype;\n\n    if (detect) return\n\n    // Polyfill from https://cdn.polyfill.io/v2/polyfill.js?features=Function.prototype.bind&flags=always\n    Object.defineProperty(Function.prototype, 'bind', {\n        value: function bind(that) { // .length is 1\n            // add necessary es5-shim utilities\n            var $Array = Array;\n            var $Object = Object;\n            var ObjectPrototype = $Object.prototype;\n            var ArrayPrototype = $Array.prototype;\n            var Empty = function Empty() {};\n            var to_string = ObjectPrototype.toString;\n            var hasToStringTag = typeof Symbol === 'function' && typeof Symbol.toStringTag === 'symbol';\n            var isCallable; /* inlined from https://npmjs.com/is-callable */ var fnToStr = Function.prototype.toString, tryFunctionObject = function tryFunctionObject(value) { try { fnToStr.call(value); return true; } catch (e) { return false; } }, fnClass = '[object Function]', genClass = '[object GeneratorFunction]'; isCallable = function isCallable(value) { if (typeof value !== 'function') { return false; } if (hasToStringTag) { return tryFunctionObject(value); } var strClass = to_string.call(value); return strClass === fnClass || strClass === genClass; };\n            var array_slice = ArrayPrototype.slice;\n            var array_concat = ArrayPrototype.concat;\n            var array_push = ArrayPrototype.push;\n            var max = Math.max;\n            // /add necessary es5-shim utilities\n\n            // 1. Let Target be the this value.\n            var target = this;\n            // 2. If IsCallable(Target) is false, throw a TypeError exception.\n            if (!isCallable(target)) {\n                throw new TypeError('Function.prototype.bind called on incompatible ' + target);\n            }\n            // 3. Let A be a new (possibly empty) internal list of all of the\n            //   argument values provided after thisArg (arg1, arg2 etc), in order.\n            // XXX slicedArgs will stand in for \"A\" if used\n            var args = array_slice.call(arguments, 1); // for normal call\n            // 4. Let F be a new native ECMAScript object.\n            // 11. Set the [[Prototype]] internal property of F to the standard\n            //   built-in Function prototype object as specified in 15.3.3.1.\n            // 12. Set the [[Call]] internal property of F as described in\n            //   15.3.4.5.1.\n            // 13. Set the [[Construct]] internal property of F as described in\n            //   15.3.4.5.2.\n            // 14. Set the [[HasInstance]] internal property of F as described in\n            //   15.3.4.5.3.\n            var bound;\n            var binder = function () {\n\n                if (this instanceof bound) {\n                    // 15.3.4.5.2 [[Construct]]\n                    // When the [[Construct]] internal method of a function object,\n                    // F that was created using the bind function is called with a\n                    // list of arguments ExtraArgs, the following steps are taken:\n                    // 1. Let target be the value of F's [[TargetFunction]]\n                    //   internal property.\n                    // 2. If target has no [[Construct]] internal method, a\n                    //   TypeError exception is thrown.\n                    // 3. Let boundArgs be the value of F's [[BoundArgs]] internal\n                    //   property.\n                    // 4. Let args be a new list containing the same values as the\n                    //   list boundArgs in the same order followed by the same\n                    //   values as the list ExtraArgs in the same order.\n                    // 5. Return the result of calling the [[Construct]] internal\n                    //   method of target providing args as the arguments.\n\n                    var result = target.apply(\n                        this,\n                        array_concat.call(args, array_slice.call(arguments))\n                    );\n                    if ($Object(result) === result) {\n                        return result;\n                    }\n                    return this;\n\n                } else {\n                    // 15.3.4.5.1 [[Call]]\n                    // When the [[Call]] internal method of a function object, F,\n                    // which was created using the bind function is called with a\n                    // this value and a list of arguments ExtraArgs, the following\n                    // steps are taken:\n                    // 1. Let boundArgs be the value of F's [[BoundArgs]] internal\n                    //   property.\n                    // 2. Let boundThis be the value of F's [[BoundThis]] internal\n                    //   property.\n                    // 3. Let target be the value of F's [[TargetFunction]] internal\n                    //   property.\n                    // 4. Let args be a new list containing the same values as the\n                    //   list boundArgs in the same order followed by the same\n                    //   values as the list ExtraArgs in the same order.\n                    // 5. Return the result of calling the [[Call]] internal method\n                    //   of target providing boundThis as the this value and\n                    //   providing args as the arguments.\n\n                    // equiv: target.call(this, ...boundArgs, ...args)\n                    return target.apply(\n                        that,\n                        array_concat.call(args, array_slice.call(arguments))\n                    );\n\n                }\n\n            };\n\n            // 15. If the [[Class]] internal property of Target is \"Function\", then\n            //     a. Let L be the length property of Target minus the length of A.\n            //     b. Set the length own property of F to either 0 or L, whichever is\n            //       larger.\n            // 16. Else set the length own property of F to 0.\n\n            var boundLength = max(0, target.length - args.length);\n\n            // 17. Set the attributes of the length own property of F to the values\n            //   specified in 15.3.5.1.\n            var boundArgs = [];\n            for (var i = 0; i < boundLength; i++) {\n                array_push.call(boundArgs, '$' + i);\n            }\n\n            // XXX Build a dynamic function with desired amount of arguments is the only\n            // way to set the length property of a function.\n            // In environments where Content Security Policies enabled (Chrome extensions,\n            // for ex.) all use of eval or Function costructor throws an exception.\n            // However in all of these environments Function.prototype.bind exists\n            // and so this code will never be executed.\n            bound = Function('binder', 'return function (' + boundArgs.join(',') + '){ return binder.apply(this, arguments); }')(binder);\n\n            if (target.prototype) {\n                Empty.prototype = target.prototype;\n                bound.prototype = new Empty();\n                // Clean up dangling references.\n                Empty.prototype = null;\n            }\n\n            // TODO\n            // 18. Set the [[Extensible]] internal property of F to true.\n\n            // TODO\n            // 19. Let thrower be the [[ThrowTypeError]] function Object (13.2.3).\n            // 20. Call the [[DefineOwnProperty]] internal method of F with\n            //   arguments \"caller\", PropertyDescriptor {[[Get]]: thrower, [[Set]]:\n            //   thrower, [[Enumerable]]: false, [[Configurable]]: false}, and\n            //   false.\n            // 21. Call the [[DefineOwnProperty]] internal method of F with\n            //   arguments \"arguments\", PropertyDescriptor {[[Get]]: thrower,\n            //   [[Set]]: thrower, [[Enumerable]]: false, [[Configurable]]: false},\n            //   and false.\n\n            // TODO\n            // NOTE Function objects created using Function.prototype.bind do not\n            // have a prototype property or the [[Code]], [[FormalParameters]], and\n            // [[Scope]] internal properties.\n            // XXX can't delete prototype in pure-js.\n\n            // 22. Return F.\n            return bound;\n        }\n    });\n  })\n  .call('object' === typeof window && window || 'object' === typeof self && self || 'object' === typeof commonjsGlobal && commonjsGlobal || {});\n\n  })));\n  });\n\n  var classList = createCommonjsModule(function (module, exports) {\n  (function (global, factory) {\n  \tfactory();\n  }(commonjsGlobal, (function () {\n  (function(undefined) {\n\n  // Detection from https://github.com/Financial-Times/polyfill-service/blob/master/packages/polyfill-library/polyfills/Object/defineProperty/detect.js\n  var detect = (\n    // In IE8, defineProperty could only act on DOM elements, so full support\n    // for the feature requires the ability to set a property on an arbitrary object\n    'defineProperty' in Object && (function() {\n    \ttry {\n    \t\tvar a = {};\n    \t\tObject.defineProperty(a, 'test', {value:42});\n    \t\treturn true;\n    \t} catch(e) {\n    \t\treturn false\n    \t}\n    }())\n  );\n\n  if (detect) return\n\n  // Polyfill from https://cdn.polyfill.io/v2/polyfill.js?features=Object.defineProperty&flags=always\n  (function (nativeDefineProperty) {\n\n  \tvar supportsAccessors = Object.prototype.hasOwnProperty('__defineGetter__');\n  \tvar ERR_ACCESSORS_NOT_SUPPORTED = 'Getters & setters cannot be defined on this javascript engine';\n  \tvar ERR_VALUE_ACCESSORS = 'A property cannot both have accessors and be writable or have a value';\n\n  \tObject.defineProperty = function defineProperty(object, property, descriptor) {\n\n  \t\t// Where native support exists, assume it\n  \t\tif (nativeDefineProperty && (object === window || object === document || object === Element.prototype || object instanceof Element)) {\n  \t\t\treturn nativeDefineProperty(object, property, descriptor);\n  \t\t}\n\n  \t\tif (object === null || !(object instanceof Object || typeof object === 'object')) {\n  \t\t\tthrow new TypeError('Object.defineProperty called on non-object');\n  \t\t}\n\n  \t\tif (!(descriptor instanceof Object)) {\n  \t\t\tthrow new TypeError('Property description must be an object');\n  \t\t}\n\n  \t\tvar propertyString = String(property);\n  \t\tvar hasValueOrWritable = 'value' in descriptor || 'writable' in descriptor;\n  \t\tvar getterType = 'get' in descriptor && typeof descriptor.get;\n  \t\tvar setterType = 'set' in descriptor && typeof descriptor.set;\n\n  \t\t// handle descriptor.get\n  \t\tif (getterType) {\n  \t\t\tif (getterType !== 'function') {\n  \t\t\t\tthrow new TypeError('Getter must be a function');\n  \t\t\t}\n  \t\t\tif (!supportsAccessors) {\n  \t\t\t\tthrow new TypeError(ERR_ACCESSORS_NOT_SUPPORTED);\n  \t\t\t}\n  \t\t\tif (hasValueOrWritable) {\n  \t\t\t\tthrow new TypeError(ERR_VALUE_ACCESSORS);\n  \t\t\t}\n  \t\t\tObject.__defineGetter__.call(object, propertyString, descriptor.get);\n  \t\t} else {\n  \t\t\tobject[propertyString] = descriptor.value;\n  \t\t}\n\n  \t\t// handle descriptor.set\n  \t\tif (setterType) {\n  \t\t\tif (setterType !== 'function') {\n  \t\t\t\tthrow new TypeError('Setter must be a function');\n  \t\t\t}\n  \t\t\tif (!supportsAccessors) {\n  \t\t\t\tthrow new TypeError(ERR_ACCESSORS_NOT_SUPPORTED);\n  \t\t\t}\n  \t\t\tif (hasValueOrWritable) {\n  \t\t\t\tthrow new TypeError(ERR_VALUE_ACCESSORS);\n  \t\t\t}\n  \t\t\tObject.__defineSetter__.call(object, propertyString, descriptor.set);\n  \t\t}\n\n  \t\t// OK to define value unconditionally - if a getter has been specified as well, an error would be thrown above\n  \t\tif ('value' in descriptor) {\n  \t\t\tobject[propertyString] = descriptor.value;\n  \t\t}\n\n  \t\treturn object;\n  \t};\n  }(Object.defineProperty));\n  })\n  .call('object' === typeof window && window || 'object' === typeof self && self || 'object' === typeof commonjsGlobal && commonjsGlobal || {});\n\n  (function(undefined) {\n\n      // Detection from https://raw.githubusercontent.com/Financial-Times/polyfill-service/master/packages/polyfill-library/polyfills/DOMTokenList/detect.js\n      var detect = (\n        'DOMTokenList' in this && (function (x) {\n          return 'classList' in x ? !x.classList.toggle('x', false) && !x.className : true;\n        })(document.createElement('x'))\n      );\n\n      if (detect) return\n\n      // Polyfill from https://raw.githubusercontent.com/Financial-Times/polyfill-service/master/packages/polyfill-library/polyfills/DOMTokenList/polyfill.js\n      (function (global) {\n        var nativeImpl = \"DOMTokenList\" in global && global.DOMTokenList;\n\n        if (\n            !nativeImpl ||\n            (\n              !!document.createElementNS &&\n              !!document.createElementNS('http://www.w3.org/2000/svg', 'svg') &&\n              !(document.createElementNS(\"http://www.w3.org/2000/svg\", \"svg\").classList instanceof DOMTokenList)\n            )\n          ) {\n          global.DOMTokenList = (function() { // eslint-disable-line no-unused-vars\n            var dpSupport = true;\n            var defineGetter = function (object, name, fn, configurable) {\n              if (Object.defineProperty)\n                Object.defineProperty(object, name, {\n                  configurable: false === dpSupport ? true : !!configurable,\n                  get: fn\n                });\n\n              else object.__defineGetter__(name, fn);\n            };\n\n            /** Ensure the browser allows Object.defineProperty to be used on native JavaScript objects. */\n            try {\n              defineGetter({}, \"support\");\n            }\n            catch (e) {\n              dpSupport = false;\n            }\n\n\n            var _DOMTokenList = function (el, prop) {\n              var that = this;\n              var tokens = [];\n              var tokenMap = {};\n              var length = 0;\n              var maxLength = 0;\n              var addIndexGetter = function (i) {\n                defineGetter(that, i, function () {\n                  preop();\n                  return tokens[i];\n                }, false);\n\n              };\n              var reindex = function () {\n\n                /** Define getter functions for array-like access to the tokenList's contents. */\n                if (length >= maxLength)\n                  for (; maxLength < length; ++maxLength) {\n                    addIndexGetter(maxLength);\n                  }\n              };\n\n              /** Helper function called at the start of each class method. Internal use only. */\n              var preop = function () {\n                var error;\n                var i;\n                var args = arguments;\n                var rSpace = /\\s+/;\n\n                /** Validate the token/s passed to an instance method, if any. */\n                if (args.length)\n                  for (i = 0; i < args.length; ++i)\n                    if (rSpace.test(args[i])) {\n                      error = new SyntaxError('String \"' + args[i] + '\" ' + \"contains\" + ' an invalid character');\n                      error.code = 5;\n                      error.name = \"InvalidCharacterError\";\n                      throw error;\n                    }\n\n\n                /** Split the new value apart by whitespace*/\n                if (typeof el[prop] === \"object\") {\n                  tokens = (\"\" + el[prop].baseVal).replace(/^\\s+|\\s+$/g, \"\").split(rSpace);\n                } else {\n                  tokens = (\"\" + el[prop]).replace(/^\\s+|\\s+$/g, \"\").split(rSpace);\n                }\n\n                /** Avoid treating blank strings as single-item token lists */\n                if (\"\" === tokens[0]) tokens = [];\n\n                /** Repopulate the internal token lists */\n                tokenMap = {};\n                for (i = 0; i < tokens.length; ++i)\n                  tokenMap[tokens[i]] = true;\n                length = tokens.length;\n                reindex();\n              };\n\n              /** Populate our internal token list if the targeted attribute of the subject element isn't empty. */\n              preop();\n\n              /** Return the number of tokens in the underlying string. Read-only. */\n              defineGetter(that, \"length\", function () {\n                preop();\n                return length;\n              });\n\n              /** Override the default toString/toLocaleString methods to return a space-delimited list of tokens when typecast. */\n              that.toLocaleString =\n                that.toString = function () {\n                  preop();\n                  return tokens.join(\" \");\n                };\n\n              that.item = function (idx) {\n                preop();\n                return tokens[idx];\n              };\n\n              that.contains = function (token) {\n                preop();\n                return !!tokenMap[token];\n              };\n\n              that.add = function () {\n                preop.apply(that, args = arguments);\n\n                for (var args, token, i = 0, l = args.length; i < l; ++i) {\n                  token = args[i];\n                  if (!tokenMap[token]) {\n                    tokens.push(token);\n                    tokenMap[token] = true;\n                  }\n                }\n\n                /** Update the targeted attribute of the attached element if the token list's changed. */\n                if (length !== tokens.length) {\n                  length = tokens.length >>> 0;\n                  if (typeof el[prop] === \"object\") {\n                    el[prop].baseVal = tokens.join(\" \");\n                  } else {\n                    el[prop] = tokens.join(\" \");\n                  }\n                  reindex();\n                }\n              };\n\n              that.remove = function () {\n                preop.apply(that, args = arguments);\n\n                /** Build a hash of token names to compare against when recollecting our token list. */\n                for (var args, ignore = {}, i = 0, t = []; i < args.length; ++i) {\n                  ignore[args[i]] = true;\n                  delete tokenMap[args[i]];\n                }\n\n                /** Run through our tokens list and reassign only those that aren't defined in the hash declared above. */\n                for (i = 0; i < tokens.length; ++i)\n                  if (!ignore[tokens[i]]) t.push(tokens[i]);\n\n                tokens = t;\n                length = t.length >>> 0;\n\n                /** Update the targeted attribute of the attached element. */\n                if (typeof el[prop] === \"object\") {\n                  el[prop].baseVal = tokens.join(\" \");\n                } else {\n                  el[prop] = tokens.join(\" \");\n                }\n                reindex();\n              };\n\n              that.toggle = function (token, force) {\n                preop.apply(that, [token]);\n\n                /** Token state's being forced. */\n                if (undefined !== force) {\n                  if (force) {\n                    that.add(token);\n                    return true;\n                  } else {\n                    that.remove(token);\n                    return false;\n                  }\n                }\n\n                /** Token already exists in tokenList. Remove it, and return FALSE. */\n                if (tokenMap[token]) {\n                  that.remove(token);\n                  return false;\n                }\n\n                /** Otherwise, add the token and return TRUE. */\n                that.add(token);\n                return true;\n              };\n\n              return that;\n            };\n\n            return _DOMTokenList;\n          }());\n        }\n\n        // Add second argument to native DOMTokenList.toggle() if necessary\n        (function () {\n          var e = document.createElement('span');\n          if (!('classList' in e)) return;\n          e.classList.toggle('x', false);\n          if (!e.classList.contains('x')) return;\n          e.classList.constructor.prototype.toggle = function toggle(token /*, force*/) {\n            var force = arguments[1];\n            if (force === undefined) {\n              var add = !this.contains(token);\n              this[add ? 'add' : 'remove'](token);\n              return add;\n            }\n            force = !!force;\n            this[force ? 'add' : 'remove'](token);\n            return force;\n          };\n        }());\n\n        // Add multiple arguments to native DOMTokenList.add() if necessary\n        (function () {\n          var e = document.createElement('span');\n          if (!('classList' in e)) return;\n          e.classList.add('a', 'b');\n          if (e.classList.contains('b')) return;\n          var native = e.classList.constructor.prototype.add;\n          e.classList.constructor.prototype.add = function () {\n            var args = arguments;\n            var l = arguments.length;\n            for (var i = 0; i < l; i++) {\n              native.call(this, args[i]);\n            }\n          };\n        }());\n\n        // Add multiple arguments to native DOMTokenList.remove() if necessary\n        (function () {\n          var e = document.createElement('span');\n          if (!('classList' in e)) return;\n          e.classList.add('a');\n          e.classList.add('b');\n          e.classList.remove('a', 'b');\n          if (!e.classList.contains('b')) return;\n          var native = e.classList.constructor.prototype.remove;\n          e.classList.constructor.prototype.remove = function () {\n            var args = arguments;\n            var l = arguments.length;\n            for (var i = 0; i < l; i++) {\n              native.call(this, args[i]);\n            }\n          };\n        }());\n\n      }(this));\n\n  }).call('object' === typeof window && window || 'object' === typeof self && self || 'object' === typeof commonjsGlobal && commonjsGlobal || {});\n\n  (function(undefined) {\n\n  // Detection from https://github.com/Financial-Times/polyfill-service/blob/master/packages/polyfill-library/polyfills/Document/detect.js\n  var detect = (\"Document\" in this);\n\n  if (detect) return\n\n  // Polyfill from https://cdn.polyfill.io/v2/polyfill.js?features=Document&flags=always\n  if ((typeof WorkerGlobalScope === \"undefined\") && (typeof importScripts !== \"function\")) {\n\n  \tif (this.HTMLDocument) { // IE8\n\n  \t\t// HTMLDocument is an extension of Document.  If the browser has HTMLDocument but not Document, the former will suffice as an alias for the latter.\n  \t\tthis.Document = this.HTMLDocument;\n\n  \t} else {\n\n  \t\t// Create an empty function to act as the missing constructor for the document object, attach the document object as its prototype.  The function needs to be anonymous else it is hoisted and causes the feature detect to prematurely pass, preventing the assignments below being made.\n  \t\tthis.Document = this.HTMLDocument = document.constructor = (new Function('return function Document() {}')());\n  \t\tthis.Document.prototype = document;\n  \t}\n  }\n\n\n  })\n  .call('object' === typeof window && window || 'object' === typeof self && self || 'object' === typeof commonjsGlobal && commonjsGlobal || {});\n\n  (function(undefined) {\n\n  // Detection from https://github.com/Financial-Times/polyfill-service/blob/master/packages/polyfill-library/polyfills/Element/detect.js\n  var detect = ('Element' in this && 'HTMLElement' in this);\n\n  if (detect) return\n\n  // Polyfill from https://cdn.polyfill.io/v2/polyfill.js?features=Element&flags=always\n  (function () {\n\n  \t// IE8\n  \tif (window.Element && !window.HTMLElement) {\n  \t\twindow.HTMLElement = window.Element;\n  \t\treturn;\n  \t}\n\n  \t// create Element constructor\n  \twindow.Element = window.HTMLElement = new Function('return function Element() {}')();\n\n  \t// generate sandboxed iframe\n  \tvar vbody = document.appendChild(document.createElement('body'));\n  \tvar frame = vbody.appendChild(document.createElement('iframe'));\n\n  \t// use sandboxed iframe to replicate Element functionality\n  \tvar frameDocument = frame.contentWindow.document;\n  \tvar prototype = Element.prototype = frameDocument.appendChild(frameDocument.createElement('*'));\n  \tvar cache = {};\n\n  \t// polyfill Element.prototype on an element\n  \tvar shiv = function (element, deep) {\n  \t\tvar\n  \t\tchildNodes = element.childNodes || [],\n  \t\tindex = -1,\n  \t\tkey, value, childNode;\n\n  \t\tif (element.nodeType === 1 && element.constructor !== Element) {\n  \t\t\telement.constructor = Element;\n\n  \t\t\tfor (key in cache) {\n  \t\t\t\tvalue = cache[key];\n  \t\t\t\telement[key] = value;\n  \t\t\t}\n  \t\t}\n\n  \t\twhile (childNode = deep && childNodes[++index]) {\n  \t\t\tshiv(childNode, deep);\n  \t\t}\n\n  \t\treturn element;\n  \t};\n\n  \tvar elements = document.getElementsByTagName('*');\n  \tvar nativeCreateElement = document.createElement;\n  \tvar interval;\n  \tvar loopLimit = 100;\n\n  \tprototype.attachEvent('onpropertychange', function (event) {\n  \t\tvar\n  \t\tpropertyName = event.propertyName,\n  \t\tnonValue = !cache.hasOwnProperty(propertyName),\n  \t\tnewValue = prototype[propertyName],\n  \t\toldValue = cache[propertyName],\n  \t\tindex = -1,\n  \t\telement;\n\n  \t\twhile (element = elements[++index]) {\n  \t\t\tif (element.nodeType === 1) {\n  \t\t\t\tif (nonValue || element[propertyName] === oldValue) {\n  \t\t\t\t\telement[propertyName] = newValue;\n  \t\t\t\t}\n  \t\t\t}\n  \t\t}\n\n  \t\tcache[propertyName] = newValue;\n  \t});\n\n  \tprototype.constructor = Element;\n\n  \tif (!prototype.hasAttribute) {\n  \t\t// <Element>.hasAttribute\n  \t\tprototype.hasAttribute = function hasAttribute(name) {\n  \t\t\treturn this.getAttribute(name) !== null;\n  \t\t};\n  \t}\n\n  \t// Apply Element prototype to the pre-existing DOM as soon as the body element appears.\n  \tfunction bodyCheck() {\n  \t\tif (!(loopLimit--)) clearTimeout(interval);\n  \t\tif (document.body && !document.body.prototype && /(complete|interactive)/.test(document.readyState)) {\n  \t\t\tshiv(document, true);\n  \t\t\tif (interval && document.body.prototype) clearTimeout(interval);\n  \t\t\treturn (!!document.body.prototype);\n  \t\t}\n  \t\treturn false;\n  \t}\n  \tif (!bodyCheck()) {\n  \t\tdocument.onreadystatechange = bodyCheck;\n  \t\tinterval = setInterval(bodyCheck, 25);\n  \t}\n\n  \t// Apply to any new elements created after load\n  \tdocument.createElement = function createElement(nodeName) {\n  \t\tvar element = nativeCreateElement(String(nodeName).toLowerCase());\n  \t\treturn shiv(element);\n  \t};\n\n  \t// remove sandboxed iframe\n  \tdocument.removeChild(vbody);\n  }());\n\n  })\n  .call('object' === typeof window && window || 'object' === typeof self && self || 'object' === typeof commonjsGlobal && commonjsGlobal || {});\n\n  (function(undefined) {\n\n      // Detection from https://raw.githubusercontent.com/Financial-Times/polyfill-service/8717a9e04ac7aff99b4980fbedead98036b0929a/packages/polyfill-library/polyfills/Element/prototype/classList/detect.js\n      var detect = (\n        'document' in this && \"classList\" in document.documentElement && 'Element' in this && 'classList' in Element.prototype && (function () {\n          var e = document.createElement('span');\n          e.classList.add('a', 'b');\n          return e.classList.contains('b');\n        }())\n      );\n\n      if (detect) return\n\n      // Polyfill from https://cdn.polyfill.io/v2/polyfill.js?features=Element.prototype.classList&flags=always\n      (function (global) {\n        var dpSupport = true;\n        var defineGetter = function (object, name, fn, configurable) {\n          if (Object.defineProperty)\n            Object.defineProperty(object, name, {\n              configurable: false === dpSupport ? true : !!configurable,\n              get: fn\n            });\n\n          else object.__defineGetter__(name, fn);\n        };\n        /** Ensure the browser allows Object.defineProperty to be used on native JavaScript objects. */\n        try {\n          defineGetter({}, \"support\");\n        }\n        catch (e) {\n          dpSupport = false;\n        }\n        /** Polyfills a property with a DOMTokenList */\n        var addProp = function (o, name, attr) {\n\n          defineGetter(o.prototype, name, function () {\n            var tokenList;\n\n            var THIS = this,\n\n            /** Prevent this from firing twice for some reason. What the hell, IE. */\n            gibberishProperty = \"__defineGetter__\" + \"DEFINE_PROPERTY\" + name;\n            if(THIS[gibberishProperty]) return tokenList;\n            THIS[gibberishProperty] = true;\n\n            /**\n             * IE8 can't define properties on native JavaScript objects, so we'll use a dumb hack instead.\n             *\n             * What this is doing is creating a dummy element (\"reflection\") inside a detached phantom node (\"mirror\")\n             * that serves as the target of Object.defineProperty instead. While we could simply use the subject HTML\n             * element instead, this would conflict with element types which use indexed properties (such as forms and\n             * select lists).\n             */\n            if (false === dpSupport) {\n\n              var visage;\n              var mirror = addProp.mirror || document.createElement(\"div\");\n              var reflections = mirror.childNodes;\n              var l = reflections.length;\n\n              for (var i = 0; i < l; ++i)\n                if (reflections[i]._R === THIS) {\n                  visage = reflections[i];\n                  break;\n                }\n\n              /** Couldn't find an element's reflection inside the mirror. Materialise one. */\n              visage || (visage = mirror.appendChild(document.createElement(\"div\")));\n\n              tokenList = DOMTokenList.call(visage, THIS, attr);\n            } else tokenList = new DOMTokenList(THIS, attr);\n\n            defineGetter(THIS, name, function () {\n              return tokenList;\n            });\n            delete THIS[gibberishProperty];\n\n            return tokenList;\n          }, true);\n        };\n\n        addProp(global.Element, \"classList\", \"className\");\n        addProp(global.HTMLElement, \"classList\", \"className\");\n        addProp(global.HTMLLinkElement, \"relList\", \"rel\");\n        addProp(global.HTMLAnchorElement, \"relList\", \"rel\");\n        addProp(global.HTMLAreaElement, \"relList\", \"rel\");\n      }(this));\n\n  }).call('object' === typeof window && window || 'object' === typeof self && self || 'object' === typeof commonjsGlobal && commonjsGlobal || {});\n\n  })));\n  });\n\n  var Event_1 = createCommonjsModule(function (module, exports) {\n  (function (global, factory) {\n  \tfactory();\n  }(commonjsGlobal, (function () {\n  (function(undefined) {\n\n  // Detection from https://github.com/Financial-Times/polyfill-service/blob/master/packages/polyfill-library/polyfills/Window/detect.js\n  var detect = ('Window' in this);\n\n  if (detect) return\n\n  // Polyfill from https://cdn.polyfill.io/v2/polyfill.js?features=Window&flags=always\n  if ((typeof WorkerGlobalScope === \"undefined\") && (typeof importScripts !== \"function\")) {\n  \t(function (global) {\n  \t\tif (global.constructor) {\n  \t\t\tglobal.Window = global.constructor;\n  \t\t} else {\n  \t\t\t(global.Window = global.constructor = new Function('return function Window() {}')()).prototype = this;\n  \t\t}\n  \t}(this));\n  }\n\n  })\n  .call('object' === typeof window && window || 'object' === typeof self && self || 'object' === typeof commonjsGlobal && commonjsGlobal || {});\n\n  (function(undefined) {\n\n  // Detection from https://github.com/Financial-Times/polyfill-service/blob/master/packages/polyfill-library/polyfills/Document/detect.js\n  var detect = (\"Document\" in this);\n\n  if (detect) return\n\n  // Polyfill from https://cdn.polyfill.io/v2/polyfill.js?features=Document&flags=always\n  if ((typeof WorkerGlobalScope === \"undefined\") && (typeof importScripts !== \"function\")) {\n\n  \tif (this.HTMLDocument) { // IE8\n\n  \t\t// HTMLDocument is an extension of Document.  If the browser has HTMLDocument but not Document, the former will suffice as an alias for the latter.\n  \t\tthis.Document = this.HTMLDocument;\n\n  \t} else {\n\n  \t\t// Create an empty function to act as the missing constructor for the document object, attach the document object as its prototype.  The function needs to be anonymous else it is hoisted and causes the feature detect to prematurely pass, preventing the assignments below being made.\n  \t\tthis.Document = this.HTMLDocument = document.constructor = (new Function('return function Document() {}')());\n  \t\tthis.Document.prototype = document;\n  \t}\n  }\n\n\n  })\n  .call('object' === typeof window && window || 'object' === typeof self && self || 'object' === typeof commonjsGlobal && commonjsGlobal || {});\n\n  (function(undefined) {\n\n  // Detection from https://github.com/Financial-Times/polyfill-service/blob/master/packages/polyfill-library/polyfills/Element/detect.js\n  var detect = ('Element' in this && 'HTMLElement' in this);\n\n  if (detect) return\n\n  // Polyfill from https://cdn.polyfill.io/v2/polyfill.js?features=Element&flags=always\n  (function () {\n\n  \t// IE8\n  \tif (window.Element && !window.HTMLElement) {\n  \t\twindow.HTMLElement = window.Element;\n  \t\treturn;\n  \t}\n\n  \t// create Element constructor\n  \twindow.Element = window.HTMLElement = new Function('return function Element() {}')();\n\n  \t// generate sandboxed iframe\n  \tvar vbody = document.appendChild(document.createElement('body'));\n  \tvar frame = vbody.appendChild(document.createElement('iframe'));\n\n  \t// use sandboxed iframe to replicate Element functionality\n  \tvar frameDocument = frame.contentWindow.document;\n  \tvar prototype = Element.prototype = frameDocument.appendChild(frameDocument.createElement('*'));\n  \tvar cache = {};\n\n  \t// polyfill Element.prototype on an element\n  \tvar shiv = function (element, deep) {\n  \t\tvar\n  \t\tchildNodes = element.childNodes || [],\n  \t\tindex = -1,\n  \t\tkey, value, childNode;\n\n  \t\tif (element.nodeType === 1 && element.constructor !== Element) {\n  \t\t\telement.constructor = Element;\n\n  \t\t\tfor (key in cache) {\n  \t\t\t\tvalue = cache[key];\n  \t\t\t\telement[key] = value;\n  \t\t\t}\n  \t\t}\n\n  \t\twhile (childNode = deep && childNodes[++index]) {\n  \t\t\tshiv(childNode, deep);\n  \t\t}\n\n  \t\treturn element;\n  \t};\n\n  \tvar elements = document.getElementsByTagName('*');\n  \tvar nativeCreateElement = document.createElement;\n  \tvar interval;\n  \tvar loopLimit = 100;\n\n  \tprototype.attachEvent('onpropertychange', function (event) {\n  \t\tvar\n  \t\tpropertyName = event.propertyName,\n  \t\tnonValue = !cache.hasOwnProperty(propertyName),\n  \t\tnewValue = prototype[propertyName],\n  \t\toldValue = cache[propertyName],\n  \t\tindex = -1,\n  \t\telement;\n\n  \t\twhile (element = elements[++index]) {\n  \t\t\tif (element.nodeType === 1) {\n  \t\t\t\tif (nonValue || element[propertyName] === oldValue) {\n  \t\t\t\t\telement[propertyName] = newValue;\n  \t\t\t\t}\n  \t\t\t}\n  \t\t}\n\n  \t\tcache[propertyName] = newValue;\n  \t});\n\n  \tprototype.constructor = Element;\n\n  \tif (!prototype.hasAttribute) {\n  \t\t// <Element>.hasAttribute\n  \t\tprototype.hasAttribute = function hasAttribute(name) {\n  \t\t\treturn this.getAttribute(name) !== null;\n  \t\t};\n  \t}\n\n  \t// Apply Element prototype to the pre-existing DOM as soon as the body element appears.\n  \tfunction bodyCheck() {\n  \t\tif (!(loopLimit--)) clearTimeout(interval);\n  \t\tif (document.body && !document.body.prototype && /(complete|interactive)/.test(document.readyState)) {\n  \t\t\tshiv(document, true);\n  \t\t\tif (interval && document.body.prototype) clearTimeout(interval);\n  \t\t\treturn (!!document.body.prototype);\n  \t\t}\n  \t\treturn false;\n  \t}\n  \tif (!bodyCheck()) {\n  \t\tdocument.onreadystatechange = bodyCheck;\n  \t\tinterval = setInterval(bodyCheck, 25);\n  \t}\n\n  \t// Apply to any new elements created after load\n  \tdocument.createElement = function createElement(nodeName) {\n  \t\tvar element = nativeCreateElement(String(nodeName).toLowerCase());\n  \t\treturn shiv(element);\n  \t};\n\n  \t// remove sandboxed iframe\n  \tdocument.removeChild(vbody);\n  }());\n\n  })\n  .call('object' === typeof window && window || 'object' === typeof self && self || 'object' === typeof commonjsGlobal && commonjsGlobal || {});\n\n  (function(undefined) {\n\n  // Detection from https://github.com/Financial-Times/polyfill-service/blob/master/packages/polyfill-library/polyfills/Object/defineProperty/detect.js\n  var detect = (\n    // In IE8, defineProperty could only act on DOM elements, so full support\n    // for the feature requires the ability to set a property on an arbitrary object\n    'defineProperty' in Object && (function() {\n    \ttry {\n    \t\tvar a = {};\n    \t\tObject.defineProperty(a, 'test', {value:42});\n    \t\treturn true;\n    \t} catch(e) {\n    \t\treturn false\n    \t}\n    }())\n  );\n\n  if (detect) return\n\n  // Polyfill from https://cdn.polyfill.io/v2/polyfill.js?features=Object.defineProperty&flags=always\n  (function (nativeDefineProperty) {\n\n  \tvar supportsAccessors = Object.prototype.hasOwnProperty('__defineGetter__');\n  \tvar ERR_ACCESSORS_NOT_SUPPORTED = 'Getters & setters cannot be defined on this javascript engine';\n  \tvar ERR_VALUE_ACCESSORS = 'A property cannot both have accessors and be writable or have a value';\n\n  \tObject.defineProperty = function defineProperty(object, property, descriptor) {\n\n  \t\t// Where native support exists, assume it\n  \t\tif (nativeDefineProperty && (object === window || object === document || object === Element.prototype || object instanceof Element)) {\n  \t\t\treturn nativeDefineProperty(object, property, descriptor);\n  \t\t}\n\n  \t\tif (object === null || !(object instanceof Object || typeof object === 'object')) {\n  \t\t\tthrow new TypeError('Object.defineProperty called on non-object');\n  \t\t}\n\n  \t\tif (!(descriptor instanceof Object)) {\n  \t\t\tthrow new TypeError('Property description must be an object');\n  \t\t}\n\n  \t\tvar propertyString = String(property);\n  \t\tvar hasValueOrWritable = 'value' in descriptor || 'writable' in descriptor;\n  \t\tvar getterType = 'get' in descriptor && typeof descriptor.get;\n  \t\tvar setterType = 'set' in descriptor && typeof descriptor.set;\n\n  \t\t// handle descriptor.get\n  \t\tif (getterType) {\n  \t\t\tif (getterType !== 'function') {\n  \t\t\t\tthrow new TypeError('Getter must be a function');\n  \t\t\t}\n  \t\t\tif (!supportsAccessors) {\n  \t\t\t\tthrow new TypeError(ERR_ACCESSORS_NOT_SUPPORTED);\n  \t\t\t}\n  \t\t\tif (hasValueOrWritable) {\n  \t\t\t\tthrow new TypeError(ERR_VALUE_ACCESSORS);\n  \t\t\t}\n  \t\t\tObject.__defineGetter__.call(object, propertyString, descriptor.get);\n  \t\t} else {\n  \t\t\tobject[propertyString] = descriptor.value;\n  \t\t}\n\n  \t\t// handle descriptor.set\n  \t\tif (setterType) {\n  \t\t\tif (setterType !== 'function') {\n  \t\t\t\tthrow new TypeError('Setter must be a function');\n  \t\t\t}\n  \t\t\tif (!supportsAccessors) {\n  \t\t\t\tthrow new TypeError(ERR_ACCESSORS_NOT_SUPPORTED);\n  \t\t\t}\n  \t\t\tif (hasValueOrWritable) {\n  \t\t\t\tthrow new TypeError(ERR_VALUE_ACCESSORS);\n  \t\t\t}\n  \t\t\tObject.__defineSetter__.call(object, propertyString, descriptor.set);\n  \t\t}\n\n  \t\t// OK to define value unconditionally - if a getter has been specified as well, an error would be thrown above\n  \t\tif ('value' in descriptor) {\n  \t\t\tobject[propertyString] = descriptor.value;\n  \t\t}\n\n  \t\treturn object;\n  \t};\n  }(Object.defineProperty));\n  })\n  .call('object' === typeof window && window || 'object' === typeof self && self || 'object' === typeof commonjsGlobal && commonjsGlobal || {});\n\n  (function(undefined) {\n\n  // Detection from https://github.com/Financial-Times/polyfill-service/blob/master/packages/polyfill-library/polyfills/Event/detect.js\n  var detect = (\n    (function(global) {\n\n    \tif (!('Event' in global)) return false;\n    \tif (typeof global.Event === 'function') return true;\n\n    \ttry {\n\n    \t\t// In IE 9-11, the Event object exists but cannot be instantiated\n    \t\tnew Event('click');\n    \t\treturn true;\n    \t} catch(e) {\n    \t\treturn false;\n    \t}\n    }(this))\n  );\n\n  if (detect) return\n\n  // Polyfill from https://cdn.polyfill.io/v2/polyfill.js?features=Event&flags=always\n  (function () {\n  \tvar unlistenableWindowEvents = {\n  \t\tclick: 1,\n  \t\tdblclick: 1,\n  \t\tkeyup: 1,\n  \t\tkeypress: 1,\n  \t\tkeydown: 1,\n  \t\tmousedown: 1,\n  \t\tmouseup: 1,\n  \t\tmousemove: 1,\n  \t\tmouseover: 1,\n  \t\tmouseenter: 1,\n  \t\tmouseleave: 1,\n  \t\tmouseout: 1,\n  \t\tstorage: 1,\n  \t\tstoragecommit: 1,\n  \t\ttextinput: 1\n  \t};\n\n  \t// This polyfill depends on availability of `document` so will not run in a worker\n  \t// However, we asssume there are no browsers with worker support that lack proper\n  \t// support for `Event` within the worker\n  \tif (typeof document === 'undefined' || typeof window === 'undefined') return;\n\n  \tfunction indexOf(array, element) {\n  \t\tvar\n  \t\tindex = -1,\n  \t\tlength = array.length;\n\n  \t\twhile (++index < length) {\n  \t\t\tif (index in array && array[index] === element) {\n  \t\t\t\treturn index;\n  \t\t\t}\n  \t\t}\n\n  \t\treturn -1;\n  \t}\n\n  \tvar existingProto = (window.Event && window.Event.prototype) || null;\n  \twindow.Event = Window.prototype.Event = function Event(type, eventInitDict) {\n  \t\tif (!type) {\n  \t\t\tthrow new Error('Not enough arguments');\n  \t\t}\n\n  \t\tvar event;\n  \t\t// Shortcut if browser supports createEvent\n  \t\tif ('createEvent' in document) {\n  \t\t\tevent = document.createEvent('Event');\n  \t\t\tvar bubbles = eventInitDict && eventInitDict.bubbles !== undefined ? eventInitDict.bubbles : false;\n  \t\t\tvar cancelable = eventInitDict && eventInitDict.cancelable !== undefined ? eventInitDict.cancelable : false;\n\n  \t\t\tevent.initEvent(type, bubbles, cancelable);\n\n  \t\t\treturn event;\n  \t\t}\n\n  \t\tevent = document.createEventObject();\n\n  \t\tevent.type = type;\n  \t\tevent.bubbles = eventInitDict && eventInitDict.bubbles !== undefined ? eventInitDict.bubbles : false;\n  \t\tevent.cancelable = eventInitDict && eventInitDict.cancelable !== undefined ? eventInitDict.cancelable : false;\n\n  \t\treturn event;\n  \t};\n  \tif (existingProto) {\n  \t\tObject.defineProperty(window.Event, 'prototype', {\n  \t\t\tconfigurable: false,\n  \t\t\tenumerable: false,\n  \t\t\twritable: true,\n  \t\t\tvalue: existingProto\n  \t\t});\n  \t}\n\n  \tif (!('createEvent' in document)) {\n  \t\twindow.addEventListener = Window.prototype.addEventListener = Document.prototype.addEventListener = Element.prototype.addEventListener = function addEventListener() {\n  \t\t\tvar\n  \t\t\telement = this,\n  \t\t\ttype = arguments[0],\n  \t\t\tlistener = arguments[1];\n\n  \t\t\tif (element === window && type in unlistenableWindowEvents) {\n  \t\t\t\tthrow new Error('In IE8 the event: ' + type + ' is not available on the window object. Please see https://github.com/Financial-Times/polyfill-service/issues/317 for more information.');\n  \t\t\t}\n\n  \t\t\tif (!element._events) {\n  \t\t\t\telement._events = {};\n  \t\t\t}\n\n  \t\t\tif (!element._events[type]) {\n  \t\t\t\telement._events[type] = function (event) {\n  \t\t\t\t\tvar\n  \t\t\t\t\tlist = element._events[event.type].list,\n  \t\t\t\t\tevents = list.slice(),\n  \t\t\t\t\tindex = -1,\n  \t\t\t\t\tlength = events.length,\n  \t\t\t\t\teventElement;\n\n  \t\t\t\t\tevent.preventDefault = function preventDefault() {\n  \t\t\t\t\t\tif (event.cancelable !== false) {\n  \t\t\t\t\t\t\tevent.returnValue = false;\n  \t\t\t\t\t\t}\n  \t\t\t\t\t};\n\n  \t\t\t\t\tevent.stopPropagation = function stopPropagation() {\n  \t\t\t\t\t\tevent.cancelBubble = true;\n  \t\t\t\t\t};\n\n  \t\t\t\t\tevent.stopImmediatePropagation = function stopImmediatePropagation() {\n  \t\t\t\t\t\tevent.cancelBubble = true;\n  \t\t\t\t\t\tevent.cancelImmediate = true;\n  \t\t\t\t\t};\n\n  \t\t\t\t\tevent.currentTarget = element;\n  \t\t\t\t\tevent.relatedTarget = event.fromElement || null;\n  \t\t\t\t\tevent.target = event.target || event.srcElement || element;\n  \t\t\t\t\tevent.timeStamp = new Date().getTime();\n\n  \t\t\t\t\tif (event.clientX) {\n  \t\t\t\t\t\tevent.pageX = event.clientX + document.documentElement.scrollLeft;\n  \t\t\t\t\t\tevent.pageY = event.clientY + document.documentElement.scrollTop;\n  \t\t\t\t\t}\n\n  \t\t\t\t\twhile (++index < length && !event.cancelImmediate) {\n  \t\t\t\t\t\tif (index in events) {\n  \t\t\t\t\t\t\teventElement = events[index];\n\n  \t\t\t\t\t\t\tif (indexOf(list, eventElement) !== -1 && typeof eventElement === 'function') {\n  \t\t\t\t\t\t\t\teventElement.call(element, event);\n  \t\t\t\t\t\t\t}\n  \t\t\t\t\t\t}\n  \t\t\t\t\t}\n  \t\t\t\t};\n\n  \t\t\t\telement._events[type].list = [];\n\n  \t\t\t\tif (element.attachEvent) {\n  \t\t\t\t\telement.attachEvent('on' + type, element._events[type]);\n  \t\t\t\t}\n  \t\t\t}\n\n  \t\t\telement._events[type].list.push(listener);\n  \t\t};\n\n  \t\twindow.removeEventListener = Window.prototype.removeEventListener = Document.prototype.removeEventListener = Element.prototype.removeEventListener = function removeEventListener() {\n  \t\t\tvar\n  \t\t\telement = this,\n  \t\t\ttype = arguments[0],\n  \t\t\tlistener = arguments[1],\n  \t\t\tindex;\n\n  \t\t\tif (element._events && element._events[type] && element._events[type].list) {\n  \t\t\t\tindex = indexOf(element._events[type].list, listener);\n\n  \t\t\t\tif (index !== -1) {\n  \t\t\t\t\telement._events[type].list.splice(index, 1);\n\n  \t\t\t\t\tif (!element._events[type].list.length) {\n  \t\t\t\t\t\tif (element.detachEvent) {\n  \t\t\t\t\t\t\telement.detachEvent('on' + type, element._events[type]);\n  \t\t\t\t\t\t}\n  \t\t\t\t\t\tdelete element._events[type];\n  \t\t\t\t\t}\n  \t\t\t\t}\n  \t\t\t}\n  \t\t};\n\n  \t\twindow.dispatchEvent = Window.prototype.dispatchEvent = Document.prototype.dispatchEvent = Element.prototype.dispatchEvent = function dispatchEvent(event) {\n  \t\t\tif (!arguments.length) {\n  \t\t\t\tthrow new Error('Not enough arguments');\n  \t\t\t}\n\n  \t\t\tif (!event || typeof event.type !== 'string') {\n  \t\t\t\tthrow new Error('DOM Events Exception 0');\n  \t\t\t}\n\n  \t\t\tvar element = this, type = event.type;\n\n  \t\t\ttry {\n  \t\t\t\tif (!event.bubbles) {\n  \t\t\t\t\tevent.cancelBubble = true;\n\n  \t\t\t\t\tvar cancelBubbleEvent = function (event) {\n  \t\t\t\t\t\tevent.cancelBubble = true;\n\n  \t\t\t\t\t\t(element || window).detachEvent('on' + type, cancelBubbleEvent);\n  \t\t\t\t\t};\n\n  \t\t\t\t\tthis.attachEvent('on' + type, cancelBubbleEvent);\n  \t\t\t\t}\n\n  \t\t\t\tthis.fireEvent('on' + type, event);\n  \t\t\t} catch (error) {\n  \t\t\t\tevent.target = element;\n\n  \t\t\t\tdo {\n  \t\t\t\t\tevent.currentTarget = element;\n\n  \t\t\t\t\tif ('_events' in element && typeof element._events[type] === 'function') {\n  \t\t\t\t\t\telement._events[type].call(element, event);\n  \t\t\t\t\t}\n\n  \t\t\t\t\tif (typeof element['on' + type] === 'function') {\n  \t\t\t\t\t\telement['on' + type].call(element, event);\n  \t\t\t\t\t}\n\n  \t\t\t\t\telement = element.nodeType === 9 ? element.parentWindow : element.parentNode;\n  \t\t\t\t} while (element && !event.cancelBubble);\n  \t\t\t}\n\n  \t\t\treturn true;\n  \t\t};\n\n  \t\t// Add the DOMContentLoaded Event\n  \t\tdocument.attachEvent('onreadystatechange', function() {\n  \t\t\tif (document.readyState === 'complete') {\n  \t\t\t\tdocument.dispatchEvent(new Event('DOMContentLoaded', {\n  \t\t\t\t\tbubbles: true\n  \t\t\t\t}));\n  \t\t\t}\n  \t\t});\n  \t}\n  }());\n\n  })\n  .call('object' === typeof window && window || 'object' === typeof self && self || 'object' === typeof commonjsGlobal && commonjsGlobal || {});\n\n  })));\n  });\n\n  /**\n   * The naming of things is a little complicated in here.\n   * For reference:\n   *\n   * - AppTabs - this JS module\n   * - app-tabs, js-tabs - groups of classes used by the tabs component\n   * - mobile tabs - the controls to show or hide panels on mobile; these are functionally closer to being an accordion than tabs\n   * - desktop tabs - the controls to show, hide or switch panels on tablet/desktop\n   * - panels - the content that is shown/hidden/switched; same across all breakpoints\n   */\n\n  function AppTabs ($module) {\n    this.$module = $module;\n    this.$mobileTabs = this.$module.querySelectorAll('.js-tabs__heading a');\n    this.$desktopTabs = this.$module.querySelectorAll('.js-tabs__item a');\n    this.$panels = this.$module.querySelectorAll('.js-tabs__container');\n  }\n\n  AppTabs.prototype.init = function () {\n    // Exit if no module has been defined\n    if (!this.$module) {\n      return\n    }\n\n    // Enhance mobile tabs into buttons\n    this.enhanceMobileTabs();\n\n    // Add bindings to desktop tabs\n    nodeListForEach(this.$desktopTabs, function ($tab) {\n      $tab.addEventListener('click', this.onClick.bind(this));\n    }.bind(this));\n\n    // Reset all tabs and panels to closed state\n    // We also add all our default ARIA goodness here\n    this.resetTabs();\n\n    // Show the first panel already open if the `open` attribute is present\n    if (this.$module.hasAttribute('data-open')) {\n      this.openPanel(this.$panels[0].id);\n    }\n  };\n\n  /**\n   *\n   */\n  AppTabs.prototype.onClick = function (event) {\n    event.preventDefault();\n    var $currentTab = event.target;\n    var panelId = $currentTab.getAttribute('aria-controls');\n    var $panel = this.getPanel(panelId);\n    var isTabAlreadyOpen = $currentTab.getAttribute('aria-expanded') === 'true';\n\n    if (!$panel) {\n      throw new Error('Invalid example ID given: ' + panelId)\n    }\n\n    // If the panel that's been called is already open, close it.\n    // Otherwise, close all panels and open the one requested.\n    if (isTabAlreadyOpen) {\n      this.closePanel(panelId);\n    } else {\n      this.resetTabs();\n      this.openPanel(panelId);\n    }\n  };\n\n  /**\n   * Enhances mobile tab anchors to buttons elements\n   *\n   * On mobile, tabs act like an accordion and are semantically more similar to\n   * buttons than links, so let's use the appropriate element\n   */\n  AppTabs.prototype.enhanceMobileTabs = function () {\n    // Loop through mobile tabs...\n    nodeListForEach(this.$mobileTabs, function ($tab) {\n      // ...construct a button equivalent of each anchor...\n      var $button = document.createElement('button');\n      $button.setAttribute('aria-controls', $tab.getAttribute('aria-controls'));\n      $button.setAttribute('data-track', $tab.getAttribute('data-track'));\n      $button.classList.add('app-tabs__heading-button');\n      $button.innerHTML = $tab.innerHTML;\n      // ...bind controls...\n      $button.bindClick = this.onClick.bind(this);\n      $button.addEventListener('click', $button.bindClick);\n      // ...and replace the anchor with the button\n      $tab.parentNode.appendChild($button);\n      $tab.parentNode.removeChild($tab);\n    }.bind(this));\n\n    // Replace the value of $mobileTabs with the new buttons\n    this.$mobileTabs = this.$module.querySelectorAll('.js-tabs__heading button');\n  };\n\n  /**\n   * Reset tabs and panels to closed state\n   */\n  AppTabs.prototype.resetTabs = function () {\n    nodeListForEach(this.$panels, function ($panel) {\n      // We don't want to hide the panel if there are no tabs present to show it\n      if (!$panel.classList.contains('js-tabs__container--no-tabs')) {\n        this.closePanel($panel.id);\n      }\n    }.bind(this));\n  };\n\n  /**\n   * Open a panel and set the associated controls and styles\n   */\n  AppTabs.prototype.openPanel = function (panelId) {\n    var $mobileTab = this.getMobileTab(panelId);\n    var $desktopTab = this.getDesktopTab(panelId);\n\n    // Panels can exist without associated tabs—for example if there's a single\n    // panel that's open by default—so make sure they actually exist before use\n    if ($mobileTab && $desktopTab) {\n      $mobileTab.setAttribute('aria-expanded', 'true');\n      $mobileTab.parentNode.classList.add('app-tabs__heading--current');\n      $desktopTab.setAttribute('aria-expanded', 'true');\n      $desktopTab.parentNode.classList.add('app-tabs__item--current');\n    }\n\n    this.getPanel(panelId).removeAttribute('hidden');\n  };\n\n  /**\n   * Close a panel and set the associated controls and styles\n   */\n  AppTabs.prototype.closePanel = function (panelId) {\n    var $mobileTab = this.getMobileTab(panelId);\n    var $desktopTab = this.getDesktopTab(panelId);\n    $mobileTab.setAttribute('aria-expanded', 'false');\n    $desktopTab.setAttribute('aria-expanded', 'false');\n    $mobileTab.parentNode.classList.remove('app-tabs__heading--current');\n    $desktopTab.parentNode.classList.remove('app-tabs__item--current');\n    this.getPanel(panelId).setAttribute('hidden', 'hidden');\n  };\n\n  /**\n   * Helper function to get a specific mobile tab by the associated panel ID\n   */\n  AppTabs.prototype.getMobileTab = function (panelId) {\n    var result = null;\n    nodeListForEach(this.$mobileTabs, function ($tab) {\n      if ($tab.getAttribute('aria-controls') === panelId) {\n        result = $tab;\n      }\n    });\n    return result\n  };\n\n  /**\n   * Helper function to get a specific desktop tab by the associated panel ID\n   */\n  AppTabs.prototype.getDesktopTab = function (panelId) {\n    var $desktopTabContainer = this.$module.querySelector('.app-tabs');\n    if ($desktopTabContainer) {\n      return $desktopTabContainer.querySelector('[aria-controls=\"' + panelId + '\"]')\n    }\n    return null\n  };\n\n  /**\n   * Helper function to get a specific panel by ID\n   */\n  AppTabs.prototype.getPanel = function (panelId) {\n    return document.getElementById(panelId)\n  };\n\n  var OptionsTable = {\n    init: function () {\n      OptionsTable.expandMacroOptions();\n    },\n    // Open Nunjucks tab and expand macro options details when URL hash is '#options-[exampleName]'\n    expandMacroOptions: function () {\n      var hash = window.location.hash;\n\n      if (hash.match('^#options-')) {\n        var exampleName = hash.split('#options-')[1];\n\n        // Is hash for a specific options table? eg. #options-checkboxes-example--hint\n        var isLinkToTable = hash.indexOf('--') > -1;\n        if (isLinkToTable) {\n          exampleName = exampleName.split('--')[0];\n        }\n\n        if (exampleName) {\n          var tabLink = document.querySelector('a[href=\"#' + exampleName + '-nunjucks\"]');\n          var tabHeading = tabLink ? tabLink.parentNode : null;\n          var optionsDetailsElement = document.getElementById('options-' + exampleName + '-details');\n\n          if (tabHeading && optionsDetailsElement) {\n            var tabsElement = optionsDetailsElement.parentNode;\n            var detailsSummary = optionsDetailsElement.querySelector('.govuk-details__summary');\n            var detailsText = optionsDetailsElement.querySelector('.govuk-details__text');\n\n            if (detailsSummary && detailsText) {\n              tabLink.setAttribute('aria-expanded', 'true');\n              tabHeading.className += ' app-tabs__item--current';\n              tabsElement.removeAttribute('hidden');\n\n              optionsDetailsElement.setAttribute('open', 'open');\n\n              // If the browser does not natively support the <details> element\n              // the polyfill included with the Details component adds ARIA\n              // attributes and explicit display styles that we need to keep in\n              // sync with the open attribute.\n              if (detailsSummary.hasAttribute('aria-expanded')) {\n                detailsSummary.setAttribute('aria-expanded', 'true');\n              }\n              if (detailsText.hasAttribute('aria-hidden')) {\n                detailsText.setAttribute('aria-hidden', false);\n              }\n              detailsText.style.display = '';\n\n              window.setTimeout(function () {\n                tabLink.focus();\n                if (isLinkToTable) document.querySelector(hash).scrollIntoView();\n              }, 0);\n            }\n          }\n        }\n      }\n    }\n  };\n\n  // Initialise example frames\n  var $examples = document.querySelectorAll('[data-module=\"app-example-frame\"]');\n  nodeListForEach($examples, function ($example) {\n    new Example($example).init();\n  });\n\n  // Initialise tabs\n  var $tabs = document.querySelectorAll('[data-module=\"app-tabs\"]');\n  nodeListForEach($tabs, function ($tabs) {\n    new AppTabs($tabs).init();\n  });\n\n  // Open options table when detected in URL hash\n  // Do this after initialising tabs\n  OptionsTable.init();\n\n}());\n"],"names":["nodeListForEach","nodes","callback","window","NodeList","prototype","forEach","i","length","call","commonjsGlobal","globalThis","global","self","createCommonjsModule","fn","module","exports","iframeResizer$2","iframeResizer","getMutationObserver","MutationObserver","WebKitMutationObserver","MozMutationObserver","addEventListener","obj","evt","func","attachEvent","removeEventListener","el","detachEvent","formatLogHeader","iframeId","msgId","retStr","top","parentIFrame","getId","isLogEnabled","settings","log","logEnabled","msg","output","info","warn","type","enabled","console","iFrameListener","event","resizeIFrame","ensureInRange","syncResize","setSize","messageData","setPagePosition","Dimension","max","Number","min","dimension","toLowerCase","size","isMessageFromIFrame","origin","checkOrigin","constructor","Array","checkSingle","remoteHost","retCode","checkAllowedOrigin","Error","iframe","id","data","getMsgBody","offset","substr","indexOf","msgHeaderLen","sendPageInfoToIframe","time","frameId","bodyPosition","iFramePosition","trigger","document","body","getBoundingClientRect","JSON","stringify","iframeHeight","height","iframeWidth","width","clientHeight","Math","documentElement","innerHeight","clientWidth","innerWidth","offsetTop","parseInt","offsetLeft","left","scrollTop","pageYOffset","scrollLeft","pageXOffset","frameTimer","setTimeout","getElementPosition","target","getPagePosition","x","floor","pagePosition","y","scrollRequestFromChild","addOffset","newPosition","scrollTo","unsetPagePosition","findTarget","location","hash","split","hashData","decodeURIComponent","getElementById","getElementsByName","jumpPosition","moveToAnchor","funcName","val","chkCallback","actionMsg","firstRun","closeRequestCallback","closeIFrame","msgBody","message","parse","setListener","stopPageInfo","stop","resetIFrame","sendPageInfo","createOutgoingMsg","msgIdLen","loaded","true","false","undefined","retBool","retVal","TypeError","removeIframeListeners","parentNode","removeChild","e","chkZero","checkIFrames","settingId","chkDimension","style","offsetParent","checkIFrame","mutationObserved","mutations","debouce","hiddenCheckEnabled","querySelector","observe","attributes","attributeOldValue","characterData","characterDataOldValue","childList","subtree","processDimension","sizeHeight","sizeWidth","doNotSync","requestAnimationFrame","calleeMsg","noResponseWarning","chkAndSend","contentWindow","targetOrigin","postMessage","warnOnNoResponse","warningTimeout","msgTimeout","errorShown","bodyMarginV1","interval","enablePublicMethods","autoResize","bodyMargin","heightCalculationMethod","bodyBackground","bodyPadding","tolerance","inPageLinks","resizeFrom","widthCalculationMethod","setupIFrame","options","init","mutation","slice","removedNodes","removedNode","resetRequertMethod","resetRequiredMethods","processOptions","src","join","copyOptions","option","defaults","hasOwnProperty","count","scrolling","overflow","chkMinMax","addStyle","Function","bind","iFrameResizer","close","removeListeners","resize","anchor","sendMessage","Infinity","timer","resizeIFrames","sendTriggerMsg","tabVisible","visibilityState","eventName","factory","element","tagName","toUpperCase","iFrames","push","vendors","querySelectorAll","createJQueryPublicMethod","$","iFrameResize","this","filter","each","index","end","scroll","bodyScroll","documentElementScroll","maxHeight","maxWidth","minHeight","minWidth","closedCallback","initCallback","messageCallback","resizedCallback","scrollCallback","jQuery","amd","iframeResizerContentWindow","bodyMarginStr","bodyObserver","calculateWidth","doubleEventList","click","eventCancelTimer","heightCalcModeDefault","heightCalcMode","initLock","initMsg","intervalTimer","logging","msgID","myID","sendPermit","parent","targetOriginDefault","triggerLocked","triggerLockedTimer","throttledTimer","widthCalcModeDefault","widthCalcMode","win","readyCallback","pageInfoCallback","customCalcMethods","offsetHeight","scrollWidth","eventHandlersByName","passiveSupported","Object","create","passive","get","once","noop","context","args","result","timeout","previous","later","getNow","Date","now","getTime","getHeight","bodyOffset","getComputedStyle","scrollHeight","custom","documentElementOffset","apply","getAllMeasurements","grow","lowestElement","getMaxElement","getAllElements","taggedElement","getTaggedElements","getWidth","offsetWidth","rightMostElement","sizeIFrameThrottled","sizeIFrame","remaining","arguments","clearTimeout","receiver","chkLateLoaded","capitalizeFirstLetter","string","charAt","formatLogMsg","strBool","str","setupCustomCalcMethods","calcMode","calcFunc","enable","href","setBodyStyle","attr","value","chkCSS","clearFix","createElement","clear","display","appendChild","checkHeightMode","checkWidthMode","startEventListeners","stopEventListeners","sendMsg","getPageInfo","reset","scrollToOffset","setHeightCalculationMethod","setWidthCalculationMethod","setTargetOrigin","customHeight","customWidth","sendSize","elPosition","checkLocationHash","bindAnchors","getAttribute","preventDefault","enableInPageLinks","setupInPageLinks","manageTriggerEvent","listener","add","handleEvent","eventType","remove","eventNames","map","method","manageEventListeners","checkCalcMode","calcModeDefault","modes","forceIntervalTimer","initInterval","addImageLoadListners","addImageLoadListener","complete","imageLoaded","imageError","elements","attributeName","removeImageLoadListener","splice","imageEventTriggered","typeDesc","observer","createMutationObserver","disconnect","setupBodyMutationObserver","clearInterval","setInterval","abs","prop","defaultView","test","runtimeStyle","currentStyle","pixelLeft","convertUnitsToPxForIE8","side","elVal","elementsLength","maxVal","Side","dimention","tag","triggerEvent","triggerEventDesc","checkDownSizing","checkTolarance","a","b","currentHeight","currentWidth","lockTrigger","resetPage","triggerReset","hcm","processRequestFromParent","source","getData","inPageLink","pageInfo","getMessageType","isInitMsg","callFromParent","messageType","readyState","Example","$module","err","error","nativeDefineProperty","supportsAccessors","ERR_ACCESSORS_NOT_SUPPORTED","ERR_VALUE_ACCESSORS","defineProperty","object","property","descriptor","Element","propertyString","String","hasValueOrWritable","getterType","setterType","set","__defineGetter__","__defineSetter__","that","$Array","$Object","ObjectPrototype","ArrayPrototype","Empty","to_string","toString","hasToStringTag","Symbol","toStringTag","fnToStr","tryFunctionObject","array_slice","array_concat","concat","array_push","isCallable","strClass","bound","boundLength","boundArgs","native","classList","toggle","className","DOMTokenList","createElementNS","dpSupport","defineGetter","name","configurable","tokens","tokenMap","maxLength","addIndexGetter","preop","reindex","rSpace","SyntaxError","code","baseVal","replace","toLocaleString","item","idx","contains","token","l","ignore","t","force","WorkerGlobalScope","importScripts","HTMLDocument","Document","vbody","frameDocument","cache","shiv","nativeCreateElement","loopLimit","bodyCheck","HTMLElement","deep","key","childNode","childNodes","nodeType","getElementsByTagName","propertyName","nonValue","newValue","oldValue","hasAttribute","onreadystatechange","nodeName","detect","addProp","o","tokenList","THIS","gibberishProperty","visage","mirror","reflections","_R","HTMLLinkElement","HTMLAnchorElement","HTMLAreaElement","Window","existingProto","unlistenableWindowEvents","array","Event","dblclick","keyup","keypress","keydown","mousedown","mouseup","mousemove","mouseover","mouseenter","mouseleave","mouseout","storage","storagecommit","textinput","eventInitDict","createEvent","bubbles","cancelable","initEvent","createEventObject","enumerable","writable","_events","eventElement","list","events","returnValue","stopPropagation","cancelBubble","stopImmediatePropagation","cancelImmediate","currentTarget","relatedTarget","fromElement","srcElement","timeStamp","clientX","pageX","pageY","clientY","dispatchEvent","cancelBubbleEvent","fireEvent","parentWindow","AppTabs","$mobileTabs","$desktopTabs","$panels","enhanceMobileTabs","$tab","onClick","resetTabs","openPanel","$currentTab","panelId","$panel","getPanel","isTabAlreadyOpen","closePanel","$button","setAttribute","innerHTML","bindClick","$mobileTab","getMobileTab","$desktopTab","getDesktopTab","removeAttribute","$desktopTabContainer","OptionsTable","expandMacroOptions","isLinkToTable","tabLink","tabHeading","optionsDetailsElement","tabsElement","detailsSummary","detailsText","match","exampleName","focus","scrollIntoView","$tabs","$example"],"mappings":"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"}