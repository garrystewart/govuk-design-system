!function(){"use strict";function e(e,t){if(window.NodeList.prototype.forEach)return e.forEach(t);for(var n=0;n<e.length;n++)t.call(window,e[n],n,e)}var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function t(e,t){return e(t={exports:{}},t.exports),t.exports}var o={iframeResizer:t(function(y){function l(){return window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver}function w(e,t,n){"addEventListener"in window?e.addEventListener(t,n,!1):"attachEvent"in window&&e.attachEvent("on"+t,n)}function z(e,t,n){"removeEventListener"in window?e.removeEventListener(t,n,!1):"detachEvent"in window&&e.detachEvent("on"+t,n)}function R(e){return N+"["+(t="Host page: "+(e=e),t=window.top!==window.self?window.parentIFrame&&window.parentIFrame.getId?window.parentIFrame.getId()+": "+e:"Nested host page: "+e:t)+"]";var t}function n(e){return P[e]?P[e].log:m}function g(e,t){o("log",e,t,n(e))}function v(e,t){o("info",e,t,n(e))}function E(e,t){o("warn",e,t,!0)}function o(e,t,n,o){!0===o&&"object"==typeof window.console&&console[e](R(t),n)}function D(e){function n(){t("Height"),t("Width"),I(function(){k(h),M(b),u("resizedCallback",h)},h,"init")}function t(e){var t=Number(P[b]["max"+e]),n=Number(P[b]["min"+e]),e=e.toLowerCase(),o=Number(h[e]);g(b,"Checking "+e+" is in range "+n+"-"+t),o<n&&(o=n,g(b,"Set "+e+" to min value")),t<o&&(o=t,g(b,"Set "+e+" to max value")),h[e]=""+o}function o(){var o=e.origin,i=P[b]&&P[b].checkOrigin;if(i&&""+o!="null"&&!function(){if(i.constructor!==Array)return e=P[b]&&P[b].remoteHost,g(b,"Checking connection is from: "+e),o===e;var e,t=0,n=!1;for(g(b,"Checking connection is from allowed list of origins: "+i);t<i.length;t++)if(i[t]===o){n=!0;break}return n}())throw new Error("Unexpected message received from: "+o+" for "+h.iframe.id+". Message was: "+e.data+". This error can be disabled by setting the checkOrigin: false option or by providing of array of trusted domains.");return 1}function a(e){return p.substr(p.indexOf(":")+W+e)}function c(n,o){var e,t,i;e=function(){var e,t;_("Send Page Info","pageInfo:"+(e=document.body.getBoundingClientRect(),t=h.iframe.getBoundingClientRect(),JSON.stringify({iframeHeight:t.height,iframeWidth:t.width,clientHeight:Math.max(document.documentElement.clientHeight,window.innerHeight||0),clientWidth:Math.max(document.documentElement.clientWidth,window.innerWidth||0),offsetTop:parseInt(t.top-e.top,10),offsetLeft:parseInt(t.left-e.left,10),scrollTop:window.pageYOffset,scrollLeft:window.pageXOffset})),n,o)},t=32,F[i=o]||(F[i]=setTimeout(function(){F[i]=null,e()},t))}function i(e){e=e.getBoundingClientRect();return j(b),{x:Math.floor(Number(e.left)+Number(A.x)),y:Math.floor(Number(e.top)+Number(A.y))}}function s(e){var t=e?i(h.iframe):{x:0,y:0},n={x:Number(h.width)+t.x,y:Number(h.height)+t.y};g(b,"Reposition requested from iFrame (offset x:"+t.x+" y:"+t.y+")"),window.top!==window.self?window.parentIFrame?window.parentIFrame["scrollTo"+(e?"Offset":"")](n.x,n.y):E(b,"Unable to scroll to requested position, window.parentIFrame not found"):(A=n,r(),g(b,"--"))}function r(){!1!==u("scrollCallback",A)?M(b):L()}function l(e){var e=e.split("#")[1]||"",t=decodeURIComponent(e),t=document.getElementById(t)||document.getElementsByName(t)[0];t?(t=i(t),g(b,"Moving to in page link (#"+e+") at x: "+t.x+" y: "+t.y),A={x:t.x,y:t.y},r(),g(b,"--")):window.top!==window.self?window.parentIFrame?window.parentIFrame.moveToAnchor(e):g(b,"In page link #"+e+" not found and window.parentIFrame not found"):g(b,"In page link #"+e+" not found")}function u(e,t){return T(b,e,t)}function d(){switch(P[b]&&P[b].firstRun&&P[b]&&(P[b].firstRun=!1),h.type){case"close":P[b].closeRequestCallback?T(b,"closeRequestCallback",P[b].iframe):O(h.iframe);break;case"message":t=a(6),g(b,"MessageCallback passed: {iframe: "+h.iframe.id+", message: "+t+"}"),u("messageCallback",{iframe:h.iframe,message:JSON.parse(t)}),g(b,"--");break;case"scrollTo":s(!1);break;case"scrollToOffset":s(!0);break;case"pageInfo":c(P[b]&&P[b].iframe,b),r=b,e("Add ",w),P[r]&&(P[r].stopPageInfo=i);break;case"pageInfoStop":P[b]&&P[b].stopPageInfo&&(P[b].stopPageInfo(),delete P[b].stopPageInfo);break;case"inPageLink":l(a(9));break;case"reset":S(h);break;case"init":n(),u("initCallback",h.iframe);break;default:n()}function e(t,n){function o(){P[r]?c(P[r].iframe,r):i()}["scroll","resize"].forEach(function(e){g(r,t+e+" listener for sendPageInfo"),n(window,e,o)})}function i(){e("Remove ",z)}var r,t}var f,m,p=e.data,h={},b=null;if("[iFrameResizerChild]Ready"===p)for(var y in P)_("iFrame requested init",x(y),document.getElementById(y),y);else N===(""+p).substr(0,C)&&p.substr(C).split(":")[0]in P?(m=p.substr(C).split(":"),h={iframe:P[m[0]]&&P[m[0]].iframe,id:m[0],height:m[1],width:m[2],type:m[3]},b=h.id,P[b]&&(P[b].loaded=!0),(m=h.type in{"true":1,"false":1,undefined:1})&&g(b,"Ignoring init message from meta parent page"),!m&&(m=!0,P[f=b]||(m=!1,E(h.type+" No settings for "+f+". Message was: "+p)),m)&&(g(b,"Received: "+p),f=!0,null===h.iframe&&(E(b,"IFrame ("+h.id+") not found"),f=!1),f&&o()&&d())):v(b,"Ignored: "+p)}function T(e,t,n){var o=null,i=null;if(P[e]){if("function"!=typeof(o=P[e][t]))throw new TypeError(t+" on iFrame["+e+"] is not a function");i=o(n)}return i}function u(e){e=e.id;delete P[e]}function O(e){var t=e.id;g(t,"Removing iFrame: "+t);try{e.parentNode&&e.parentNode.removeChild(e)}catch(n){}T(t,"closedCallback",t),g(t,"--"),u(e)}function j(e){null===A&&g(e,"Get page position: "+(A={x:window.pageXOffset!==d?window.pageXOffset:document.documentElement.scrollLeft,y:window.pageYOffset!==d?window.pageYOffset:document.documentElement.scrollTop}).x+","+A.y)}function M(e){null!==A&&(window.scrollTo(A.x,A.y),g(e,"Set page position: "+A.x+","+A.y),L())}function L(){A=null}function S(e){g(e.id,"Size reset requested by "+("init"===e.type?"host page":"iFrame")),j(e.id),I(function(){k(e),_("reset","reset",e.iframe,e.id)},e,"reset")}function k(i){function n(e){var t;function n(){for(var e in P)!function(t){function e(e){return"0px"===(P[t]&&P[t].iframe.style[e])}P[t]&&null!==P[t].iframe.offsetParent&&(e("height")||e("width"))&&_("Visibility change","resize",P[t].iframe,t)}(e)}function o(e){g("window","Mutation observed: "+e[0].target+" "+e[0].type),a(n,16)}p||"0"!==i[e]||(p=!0,g(r,"Hidden iFrame detected, creating visibility listener"),(e=l())&&(t=document.querySelector("body"),new e(o).observe(t,{attributes:!0,attributeOldValue:!1,characterData:!0,characterDataOldValue:!1,childList:!0,subtree:!0})))}function e(e){var t;t=e,i.id?(i.iframe.style[t]=i[t]+"px",g(i.id,"IFrame ("+r+") "+t+" set to "+i[t]+"px")):g("undefined","messageData id not set"),n(e)}var r=i.iframe.id;P[r]&&(P[r].sizeHeight&&e("height"),P[r].sizeWidth&&e("width"))}function I(e,t,n){n!==t.type&&h?(g(t.id,"Requesting animation frame"),h(e)):e()}function _(t,n,o,i,e){function r(){var e;o&&"contentWindow"in o&&null!==o.contentWindow?(e=P[i]&&P[i].targetOrigin,g(i,"["+t+"] Sending msg to iframe["+i+"] ("+n+") targetOrigin: "+e),o.contentWindow.postMessage(N+n,e)):E(i,"["+t+"] IFrame("+i+") not found")}function a(){e&&P[i]&&P[i].warningTimeout&&(P[i].msgTimeout=setTimeout(function(){!P[i]||P[i].loaded||c||(c=!0,E(i,"IFrame has not responded within "+P[i].warningTimeout/1e3+" seconds. Check iFrameResizer.contentWindow.js has been loaded in iFrame. This message can be ignored if everything is working, or you can set the warningTimeout option to a higher value or zero to suppress this warning."))},P[i].warningTimeout))}var c=!1;i=i||o.id,P[i]&&(r(),a())}function x(e){return e+":"+P[e].bodyMarginV1+":"+P[e].sizeWidth+":"+P[e].log+":"+P[e].interval+":"+P[e].enablePublicMethods+":"+P[e].autoResize+":"+P[e].bodyMargin+":"+P[e].heightCalculationMethod+":"+P[e].bodyBackground+":"+P[e].bodyPadding+":"+P[e].tolerance+":"+P[e].inPageLinks+":"+P[e].resizeFrom+":"+P[e].widthCalculationMethod}function r(o,e){function t(n){var e=l();e&&(e=e,o.parentNode&&new e(function(e){e.forEach(function(e){Array.prototype.slice.call(e.removedNodes).forEach(function(e){e===o&&O(o)})})}).observe(o.parentNode,{childList:!0})),w(o,"load",function(){var e,t;_("iFrame.onload",n,o,d,!0),e=P[a]&&P[a].firstRun,t=P[a]&&P[a].heightCalculationMethod in q,!e&&t&&S({iframe:o,height:0,width:0,type:"init"})}),_("init",n,o,d,!0)}function n(e){if(e=e||{},P[a]={firstRun:!0,iframe:o,remoteHost:o.src.split("/").slice(0,3).join("/")},"object"!=typeof e)throw new TypeError("Options is not an object");var t,n=e;for(t in b)b.hasOwnProperty(t)&&(P[a][t]=(n.hasOwnProperty(t)?n:b)[t]);P[a]&&(P[a].targetOrigin=!0===P[a].checkOrigin?""===(e=P[a].remoteHost)||"file://"===e?"*":e:"*")}i=o.id,""===i&&(o.id=(r=e&&e.id||b.id+f++,null!==document.getElementById(r)&&(r+=f++),i=r),m=(e||{}).log,g(i,"Added missing iframe ID: "+i+" ("+o.src+")"));var i,r,a=i;if(a in P&&"iFrameResizer"in o)E(a,"Ignored iFrame, already setup.");else{switch(n(e),g(a,"IFrame scrolling "+(P[a]&&P[a].scrolling?"enabled":"disabled")+" for "+a),o.style.overflow=!1===(P[a]&&P[a].scrolling)?"hidden":"auto",P[a]&&P[a].scrolling){case"omit":break;case!0:o.scrolling="yes";break;case!1:o.scrolling="no";break;default:o.scrolling=P[a]?P[a].scrolling:"no"}s("Height"),s("Width"),c("maxHeight"),c("minHeight"),c("maxWidth"),c("minWidth"),"number"!=typeof(P[a]&&P[a].bodyMargin)&&"0"!==(P[a]&&P[a].bodyMargin)||(P[a].bodyMarginV1=P[a].bodyMargin,P[a].bodyMargin=P[a].bodyMargin+"px"),t(x(a)),Function.prototype.bind&&P[a]&&(P[a].iframe.iFrameResizer={close:O.bind(null,P[a].iframe),removeListeners:u.bind(null,P[a].iframe),resize:_.bind(null,"Window resize","resize",P[a].iframe),moveToAnchor:function(e){_("Move to anchor","moveToAnchor:"+e,P[a].iframe,a)},sendMessage:function(e){_("Send Message","message:"+(e=JSON.stringify(e)),P[a].iframe,a)}})}function c(e){Infinity!==P[a][e]&&0!==P[a][e]&&(o.style[e]=P[a][e]+"px",g(a,"Set "+e+" = "+P[a][e]+"px"))}function s(e){if(P[a]["min"+e]>P[a]["max"+e])throw new Error("Value for min"+e+" can not be greater than max"+e)}}function a(e,t){null===i&&(i=setTimeout(function(){i=null,e()},t))}function c(e){g("window","Trigger event: "+e),a(function(){t("Window "+e,"resize")},16)}function s(){"hidden"!==document.visibilityState&&(g("document","Trigger event: Visiblity change"),a(function(){t("Tab Visable","resize")},16))}function t(e,t){for(var n in P)P[o=n]&&"parent"===P[o].resizeFrom&&P[o].autoResize&&!P[o].firstRun&&_(e,t,document.getElementById(n),n);var o}function e(){function o(e,t){if(t){if(!t.tagName)throw new TypeError("Object is not a valid DOM element");if("IFRAME"!==t.tagName.toUpperCase())throw new TypeError("Expected <IFRAME> tag, found <"+t.tagName+">");r(t,e),i.push(t)}}for(var i,e=["moz","webkit","o","ms"],t=0;t<e.length&&!h;t+=1)h=window[e[t]+"RequestAnimationFrame"];return h||g("setup","RequestAnimationFrame not supported"),w(window,"message",D),w(window,"resize",function(){c("resize")}),w(document,"visibilitychange",s),w(document,"-webkit-visibilitychange",s),w(window,"focusin",function(){c("focus")}),w(window,"focus",function(){c("focus")}),function(e,t){var n;switch(i=[],(n=e)&&n.enablePublicMethods&&E("enablePublicMethods option has been removed, public methods are now always available in the iFrame"),typeof t){case"undefined":case"string":Array.prototype.forEach.call(document.querySelectorAll(t||"iframe"),o.bind(d,e));break;case"object":o(e,t);break;default:throw new TypeError("Unexpected data type ("+typeof t+")")}return i}}function H(e){e.fn?e.fn.iFrameResize||(e.fn.iFrameResize=function(n){return this.filter("iframe").each(function(e,t){r(t,n)}).end()}):v("","Unable to bind to jQuery, it is not fully loaded.")}var d,f,m,p,W,N,C,A,h,q,P,i,b,F;"undefined"!=typeof window&&(f=0,p=m=!1,W="message".length,C=(N="[iFrameSizer]").length,A=null,h=window.requestAnimationFrame,b={autoResize:!(i=null),bodyBackground:null,bodyMargin:null,bodyMarginV1:8,bodyPadding:null,checkOrigin:!0,inPageLinks:!(q={max:1,scroll:1,bodyScroll:1,documentElementScroll:1}),enablePublicMethods:!0,heightCalculationMethod:"bodyOffset",id:"iFrameResizer",interval:32,log:!(P={}),maxHeight:Infinity,maxWidth:Infinity,minHeight:0,minWidth:0,resizeFrom:"parent",scrolling:!1,sizeHeight:!0,sizeWidth:!1,warningTimeout:5e3,tolerance:0,widthCalculationMethod:"scroll",closedCallback:function(){},initCallback:function(){},messageCallback:function(){E("MessageCallback function not defined")},resizedCallback:function(){},scrollCallback:function(){return!0}},F={},window.jQuery&&H(window.jQuery),"function"==typeof d&&d.amd?d([],e):y.exports=e(),window.iFrameResize=window.iFrameResize||e())}),iframeResizerContentWindow:t(function(F){var u=void 0;if("undefined"!=typeof window){var o=!0,z="",i=0,r="",t=null,R="",a=!1,D={resize:1,click:1},c=128,H=!0,s=1,n="bodyOffset",l=n,W=!0,q="",d={},f=32,B=null,m=!1,p="[iFrameSizer]",$=p.length,h="",G={max:1,min:1,bodyScroll:1,documentElementScroll:1},b="child",V=!0,U=window.parent,y="*",w=0,g=!1,X=null,v=16,E=1,Y="scroll",T=Y,J=window,Q=function(){N("MessageCallback function not defined")},K=function(){},Z=function(){},ee={height:function(){return N("Custom height calculation function not defined"),document.documentElement.offsetHeight},width:function(){return N("Custom width calculation function not defined"),document.body.scrollWidth}},te={},ne=!1;try{var oe=Object.create({},{passive:{get:function(){ne=!0}},once:{get:function(){}}});window.addEventListener("test",se,oe),window.removeEventListener("test",se,oe)}catch(xe){}var ie,O,j,re,M,L,ae,S=Date.now||function(){return(new Date).getTime()},k={bodyOffset:function(){return document.body.offsetHeight+Ee("marginTop")+Ee("marginBottom")},offset:function(){return k.bodyOffset()},bodyScroll:function(){return document.body.scrollHeight},custom:function(){return ee.height()},documentElementOffset:function(){return document.documentElement.offsetHeight},documentElementScroll:function(){return document.documentElement.scrollHeight},max:function(){return Math.max.apply(null,e(k))},min:function(){return Math.min.apply(null,e(k))},grow:function(){return k.max()},lowestElement:function(){return Math.max(k.bodyOffset()||k.documentElementOffset(),Te("bottom",je()))},taggedElement:function(){return Oe("bottom","data-iframe-height")}},I={bodyScroll:function(){return document.body.scrollWidth},bodyOffset:function(){return document.body.offsetWidth},custom:function(){return ee.width()},documentElementScroll:function(){return document.documentElement.scrollWidth},documentElementOffset:function(){return document.documentElement.offsetWidth},scroll:function(){return Math.max(I.bodyScroll(),I.documentElementScroll())},max:function(){return Math.max.apply(null,e(I))},min:function(){return Math.min.apply(null,e(I))},rightMostElement:function(){return Te("right",je())},taggedElement:function(){return Oe("right","data-iframe-width")}},ce=(ie=Me,M=null,L=0,ae=function(){L=S(),M=null,re=ie.apply(O,j),M||(O=j=null)},function(){var e=S(),t=v-(e-(L=L||e));return O=this,j=arguments,t<=0||v<t?(M&&(clearTimeout(M),M=null),L=e,re=ie.apply(O,j),M||(O=j=null)):M=M||setTimeout(ae,t),re});_(window,"message",Ie),_(window,"readystatechange",_e),_e()}function se(){}function _(e,t,n,o){"addEventListener"in window?e.addEventListener(t,n,!!ne&&(o||{})):"attachEvent"in window&&e.attachEvent("on"+t,n)}function le(e,t,n){"removeEventListener"in window?e.removeEventListener(t,n,!1):"detachEvent"in window&&e.detachEvent("on"+t,n)}function ue(e){return e.charAt(0).toUpperCase()+e.slice(1)}function de(e){return p+"["+h+"] "+e}function x(e){m&&"object"==typeof window.console&&console.log(de(e))}function N(e){"object"==typeof window.console&&console.warn(de(e))}function fe(){function e(e){return"true"===e}function t(e,t){return"function"==typeof e&&(x("Setup custom "+t+"CalcMethod"),ee[t]=e,e="custom"),e}{var n;n=q.substr($).split(":"),h=n[0],i=u!==n[1]?Number(n[1]):i,a=u!==n[2]?e(n[2]):a,m=u!==n[3]?e(n[3]):m,f=u!==n[4]?Number(n[4]):f,o=u!==n[6]?e(n[6]):o,r=n[7],l=u!==n[8]?n[8]:l,z=n[9],R=n[10],w=u!==n[11]?Number(n[11]):w,d.enable=u!==n[12]&&e(n[12]),b=u!==n[13]?n[13]:b,T=u!==n[14]?n[14]:T,x("Initialising iFrame ("+location.href+")"),"iFrameResizer"in window&&Object===window.iFrameResizer.constructor&&(n=window.iFrameResizer,x("Reading data from page: "+JSON.stringify(n)),Q="messageCallback"in n?n.messageCallback:Q,K="readyCallback"in n?n.readyCallback:K,y="targetOrigin"in n?n.targetOrigin:y,l="heightCalculationMethod"in n?n.heightCalculationMethod:l,T="widthCalculationMethod"in n?n.widthCalculationMethod:T,l=t(l,"height"),T=t(T,"width"))}x("TargetOrigin for parent set to: "+y),me("margin",function(e,t){-1!==t.indexOf("-")&&(N("Negative CSS value ignored for "+e),t="");return t}("margin",r=u===r?i+"px":r)),me("background",z),me("padding",R),(n=document.createElement("div")).style.clear="both",n.style.display="block",document.body.appendChild(n),be(),ye(),document.documentElement.style.height="",document.body.style.height="",x('HTML & body height set to "auto"'),x("Enable public methods"),J.parentIFrame={autoResize:function(e){return!0===e&&!1===o?(o=!0,we()):!1===e&&!0===o&&(o=!1,ge()),o},close:function(){P(0,0,"close"),x("Disable outgoing messages"),V=!1,x("Remove event listener: Message"),le(window,"message",Ie),!0===o&&ge()},getId:function(){return h},getPageInfo:function(e){"function"==typeof e?(Z=e,P(0,0,"pageInfo")):(Z=function(){},P(0,0,"pageInfoStop"))},moveToAnchor:function(e){d.findTarget(e)},reset:function(){ke("parentIFrame.reset")},scrollTo:function(e,t){P(t,e,"scrollTo")},scrollToOffset:function(e,t){P(t,e,"scrollToOffset")},sendMessage:function(e,t){P(0,0,"message",JSON.stringify(e),t)},setHeightCalculationMethod:function(e){l=e,be()},setWidthCalculationMethod:function(e){T=e,ye()},setTargetOrigin:function(e){x("Set targetOrigin: "+e),y=e},size:function(e,t){A("size","parentIFrame.size("+((e||"")+(t?","+t:""))+")",e,t)}},we(),d=function(){function n(e){var e=e.getBoundingClientRect(),t={x:window.pageXOffset!==u?window.pageXOffset:document.documentElement.scrollLeft,y:window.pageYOffset!==u?window.pageYOffset:document.documentElement.scrollTop};return{x:parseInt(e.left,10)+parseInt(t.x,10),y:parseInt(e.top,10)+parseInt(t.y,10)}}function t(e){var e=e.split("#")[1]||e,t=decodeURIComponent(e),t=document.getElementById(t)||document.getElementsByName(t)[0];u!==t?(t=n(t=t),x("Moving to in page link (#"+e+") at x: "+t.x+" y: "+t.y),P(t.y,t.x,"scrollToOffset")):(x("In page link (#"+e+") not found in iFrame, so sending to parent"),P(0,0,"inPageLink","#"+e))}function e(){""!==location.hash&&"#"!==location.hash&&t(location.href)}function o(){Array.prototype.forEach.call(document.querySelectorAll('a[href^="#"]'),function(e){"#"!==e.getAttribute("href")&&_(e,"click",function(e){e.preventDefault(),t(this.getAttribute("href"))})})}function i(){Array.prototype.forEach&&document.querySelectorAll?(x("Setting up location.hash handlers"),o(),_(window,"hashchange",e),setTimeout(e,c)):N("In page linking not fully supported in this browser! (See README.md for IE8 workaround)")}d.enable?i():x("In page linking not enabled");return{findTarget:t}}(),A("init","Init message from host page"),K()}function me(e,t){u!==t&&""!==t&&"null"!==t&&x("Body "+e+' set to "'+(document.body.style[e]=t)+'"')}function C(n){var e={add:function(e){function t(){A(n.eventName,n.eventType)}te[e]=t,_(window,e,t,{passive:!0})},remove:function(e){var t=te[e];delete te[e],le(window,e,t)}};n.eventNames&&Array.prototype.map?(n.eventName=n.eventNames[0],n.eventNames.map(e[n.method])):e[n.method](n.eventName),x(ue(n.method)+" event listener: "+n.eventType)}function pe(e){C({method:e,eventType:"Animation Start",eventNames:["animationstart","webkitAnimationStart"]}),C({method:e,eventType:"Animation Iteration",eventNames:["animationiteration","webkitAnimationIteration"]}),C({method:e,eventType:"Animation End",eventNames:["animationend","webkitAnimationEnd"]}),C({method:e,eventType:"Input",eventName:"input"}),C({method:e,eventType:"Mouse Up",eventName:"mouseup"}),C({method:e,eventType:"Mouse Down",eventName:"mousedown"}),C({method:e,eventType:"Orientation Change",eventName:"orientationchange"}),C({method:e,eventType:"Print",eventName:["afterprint","beforeprint"]}),C({method:e,eventType:"Ready State Change",eventName:"readystatechange"}),C({method:e,eventType:"Touch Start",eventName:"touchstart"}),C({method:e,eventType:"Touch End",eventName:"touchend"}),C({method:e,eventType:"Touch Cancel",eventName:"touchcancel"}),C({method:e,eventType:"Transition Start",eventNames:["transitionstart","webkitTransitionStart","MSTransitionStart","oTransitionStart","otransitionstart"]}),C({method:e,eventType:"Transition Iteration",eventNames:["transitioniteration","webkitTransitionIteration","MSTransitionIteration","oTransitionIteration","otransitioniteration"]}),C({method:e,eventType:"Transition End",eventNames:["transitionend","webkitTransitionEnd","MSTransitionEnd","oTransitionEnd","otransitionend"]}),"child"===b&&C({method:e,eventType:"IFrame Resized",eventName:"resize"})}function he(e,t,n,o){return t!==e&&(e in n||(N(e+" is not a valid option for "+o+"CalculationMethod."),e=t),x(o+' calculation method set to "'+e+'"')),e}function be(){l=he(l,n,k,"height")}function ye(){T=he(T,Y,I,"width")}function we(){var e;!0===o?(pe("add"),e=f<0,window.MutationObserver||window.WebKitMutationObserver?e?ve():t=function(){function t(e){function t(e){!1===e.complete&&(x("Attach listeners to "+e.src),e.addEventListener("load",i,!1),e.addEventListener("error",r,!1),c.push(e))}"attributes"===e.type&&"src"===e.attributeName?t(e.target):"childList"===e.type&&Array.prototype.forEach.call(e.target.querySelectorAll("img"),t)}function o(e){x("Remove listeners from "+e.src),e.removeEventListener("load",i,!1),e.removeEventListener("error",r,!1),c.splice(c.indexOf(e),1)}function n(e,t,n){o(e.target),A(t,n+": "+e.target.src,u,u)}function i(e){n(e,"imageLoad","Image loaded")}function r(e){n(e,"imageLoadFailed","Image load failed")}function a(e){A("mutationObserver","mutationObserver: "+e[0].target+" "+e[0].type),e.forEach(t)}var c=[],s=window.MutationObserver||window.WebKitMutationObserver,l=function(){var e=document.querySelector("body");return l=new s(a),x("Create body MutationObserver"),l.observe(e,{attributes:!0,attributeOldValue:!1,characterData:!0,characterDataOldValue:!1,childList:!0,subtree:!0}),l}();return{disconnect:function(){"disconnect"in l&&(x("Disconnect body MutationObserver"),l.disconnect(),c.forEach(o))}}}():(x("MutationObserver not supported in this browser!"),ve())):x("Auto Resize disabled")}function ge(){pe("remove"),null!==t&&t.disconnect(),clearInterval(B)}function ve(){0!==f&&(x("setInterval: "+f+"ms"),B=setInterval(function(){A("interval","setInterval: "+f)},Math.abs(f)))}function Ee(e,o){var t=0;return o=o||document.body,t="defaultView"in document&&"getComputedStyle"in document.defaultView?null!==(t=document.defaultView.getComputedStyle(o,null))?t[e]:0:function(e){if(/^\d+(px)?$/i.test(e))return parseInt(e,10);var t=o.style.left,n=o.runtimeStyle.left;return o.runtimeStyle.left=o.currentStyle.left,o.style.left=e||0,e=o.style.pixelLeft,o.style.left=t,o.runtimeStyle.left=n,e}(o.currentStyle[e]),parseInt(t,10)}function Te(e,t){for(var n,o=t.length,i=0,r=ue(e),a=S(),c=0;c<o;c++)i<(n=t[c].getBoundingClientRect()[e]+Ee("margin"+r,t[c]))&&(i=n);return a=S()-a,x("Parsed "+o+" HTML elements"),x("Element position calculated in "+a+"ms"),v/2<(a=a)&&x("Event throttle increased to "+(v=2*a)+"ms"),i}function e(e){return[e.bodyOffset(),e.bodyScroll(),e.documentElementOffset(),e.documentElementScroll()]}function Oe(e,t){var n=document.querySelectorAll("["+t+"]");return 0===n.length&&(N("No tagged elements ("+t+") found on page"),document.querySelectorAll("body *")),Te(e,n)}function je(){return document.querySelectorAll("body *")}function Me(e,t,n,o){function i(){e in{init:1,interval:1,size:1}||!(l in G||a&&T in G)?e in{interval:1}||x("No change in size detected"):ke(t)}function r(e,t){return!(Math.abs(e-t)<=w)}n=u!==n?n:k[l](),o=u!==o?o:I[T](),r(s,n)||a&&r(E,o)||"init"===e?(Le(),P(s=n,E=o,e)):i()}function A(e,t,n,o){g&&e in D?x("Trigger event cancelled: "+e):(e in{reset:1,resetPage:1,init:1}||x("Trigger event: "+t),("init"===e?Me:ce)(e,t,n,o))}function Le(){g||(g=!0,x("Trigger event lock on")),clearTimeout(X),X=setTimeout(function(){g=!1,x("Trigger event lock off"),x("--")},c)}function Se(e){s=k[l](),E=I[T](),P(s,E,e)}function ke(e){var t=l;l=n,x("Reset trigger event: "+e),Le(),Se("reset"),l=t}function P(e,t,n,o,i){!0===V&&(u===i?i=y:x("Message targetOrigin: "+i),x("Sending message to host page ("+(e=h+":"+(e+":"+t)+":"+n+(u!==o?":"+o:""))+")"),U.postMessage(p+e,i))}function Ie(t){var n={init:function(){q=t.data,U=t.source,fe(),H=!1,setTimeout(function(){W=!1},c)},reset:function(){W?x("Page reset ignored by init"):(x("Page size reset by host page"),Se("resetPage"))},resize:function(){A("resizeParent","Parent window requested size check")},moveToAnchor:function(){d.findTarget(i())},inPageLink:function(){this.moveToAnchor()},pageInfo:function(){var e=i();x("PageInfoFromParent called from parent: "+e),Z(JSON.parse(e)),x(" --")},message:function(){var e=i();x("MessageCallback called from parent: "+e),Q(JSON.parse(e)),x(" --")}};function o(){return t.data.split("]")[1].split(":")[0]}function i(){return t.data.substr(t.data.indexOf(":")+1)}function r(){return t.data.split(":")[2]in{"true":1,"false":1}}function e(){var e=o();e in n?n[e]():!F.exports&&"iFrameResize"in window||"jQuery"in window&&"iFrameResize"in window.jQuery.prototype||r()||N("Unexpected message ("+t.data+")")}p===(""+t.data).substr(0,$)&&(!1===H?e():r()?n.init():x('Ignored message of type "'+o()+'". Received before initialization.'))}function _e(){"loading"!==document.readyState&&window.parent.postMessage("[iFrameResizerChild]Ready","*")}})};function i(e){this.$module=e}i.prototype.init=function(){this.$module&&this.resize()},i.prototype.resize=function(){var e=this.$module;try{o.iframeResizer({scrolling:"auto",autoResize:!0},e)}catch(t){t&&console.error(t.message)}};t(function(e,t){(function(e){var a,c,s,l;"defineProperty"in Object&&function(){try{return Object.defineProperty({},"test",{value:42}),!0}catch(e){return!1}}()||(a=Object.defineProperty,c=Object.prototype.hasOwnProperty("__defineGetter__"),s="Getters & setters cannot be defined on this javascript engine",l="A property cannot both have accessors and be writable or have a value",Object.defineProperty=function(e,t,n){if(a&&(e===window||e===document||e===Element.prototype||e instanceof Element))return a(e,t,n);if(null===e||!(e instanceof Object||"object"==typeof e))throw new TypeError("Object.defineProperty called on non-object");if(!(n instanceof Object))throw new TypeError("Property description must be an object");var t=String(t),o="value"in n||"writable"in n,i="get"in n&&typeof n.get,r="set"in n&&typeof n.set;if(i){if("function"!==i)throw new TypeError("Getter must be a function");if(!c)throw new TypeError(s);if(o)throw new TypeError(l);Object.__defineGetter__.call(e,t,n.get)}else e[t]=n.value;if(r){if("function"!==r)throw new TypeError("Setter must be a function");if(!c)throw new TypeError(s);if(o)throw new TypeError(l);Object.__defineSetter__.call(e,t,n.set)}return"value"in n&&(e[t]=n.value),e})}).call("object"==typeof window&&window||"object"==typeof self&&self||"object"==typeof n&&n||{}),function(e){"bind"in Function.prototype||Object.defineProperty(Function.prototype,"bind",{value:function(t){var e=Array,n=Object,o=n.prototype,e=e.prototype,i=function i(){},r=o.toString,a="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag,c=Function.prototype.toString,s=function s(e){try{return c.call(e),!0}catch(t){return!1}},l=e.slice,u=e.concat,d=e.push,o=Math.max,f=this;if(!function w(e){if("function"!=typeof e)return!1;if(a)return s(e);e=r.call(e);return"[object Function]"===e||"[object GeneratorFunction]"===e}(f))throw new TypeError("Function.prototype.bind called on incompatible "+f);for(var m,p=l.call(arguments,1),h=o(0,f.length-p.length),b=[],y=0;y<h;y++)d.call(b,"$"+y);return m=Function("binder","return function ("+b.join(",")+"){ return binder.apply(this, arguments); }")(function(){var e;return this instanceof m?(e=f.apply(this,u.call(p,l.call(arguments))),n(e)===e?e:this):f.apply(t,u.call(p,l.call(arguments)))}),f.prototype&&(i.prototype=f.prototype,m.prototype=new i,i.prototype=null),m}})}.call("object"==typeof window&&window||"object"==typeof self&&self||"object"==typeof n&&n||{})}),t(function(e,t){(function(e){var a,c,s,l;"defineProperty"in Object&&function(){try{return Object.defineProperty({},"test",{value:42}),!0}catch(e){return!1}}()||(a=Object.defineProperty,c=Object.prototype.hasOwnProperty("__defineGetter__"),s="Getters & setters cannot be defined on this javascript engine",l="A property cannot both have accessors and be writable or have a value",Object.defineProperty=function(e,t,n){if(a&&(e===window||e===document||e===Element.prototype||e instanceof Element))return a(e,t,n);if(null===e||!(e instanceof Object||"object"==typeof e))throw new TypeError("Object.defineProperty called on non-object");if(!(n instanceof Object))throw new TypeError("Property description must be an object");var t=String(t),o="value"in n||"writable"in n,i="get"in n&&typeof n.get,r="set"in n&&typeof n.set;if(i){if("function"!==i)throw new TypeError("Getter must be a function");if(!c)throw new TypeError(s);if(o)throw new TypeError(l);Object.__defineGetter__.call(e,t,n.get)}else e[t]=n.value;if(r){if("function"!==r)throw new TypeError("Setter must be a function");if(!c)throw new TypeError(s);if(o)throw new TypeError(l);Object.__defineSetter__.call(e,t,n.set)}return"value"in n&&(e[t]=n.value),e})}).call("object"==typeof window&&window||"object"==typeof self&&self||"object"==typeof n&&n||{}),function(o){var e,i,r;(!("DOMTokenList"in this)||"classList"in(e=document.createElement("x"))&&(e.classList.toggle("x",!1)||e.className))&&("DOMTokenList"in(e=this)&&e.DOMTokenList&&(!document.createElementNS||!document.createElementNS("http://www.w3.org/2000/svg","svg")||document.createElementNS("http://www.w3.org/2000/svg","svg").classList instanceof DOMTokenList)||(e.DOMTokenList=function(){var i=!0,n=function(e,t,n,o){Object.defineProperty?Object.defineProperty(e,t,{configurable:!1===i||!!o,get:n}):e.__defineGetter__(t,n)};try{n({},"support")}catch(e){i=!1}return function(i,r){var a=this,c=[],s={},l=0,e=0,t=function(e){n(a,e,function(){return d(),c[e]},!1)},u=function(){if(e<=l)for(;e<l;++e)t(e)},d=function(){var e,t,n=arguments,o=/\s+/;if(n.length)for(t=0;t<n.length;++t)if(o.test(n[t]))throw(e=new SyntaxError('String "'+n[t]+'" contains an invalid character')).code=5,e.name="InvalidCharacterError",e;for(""===(c=("object"==typeof i[r]?""+i[r].baseVal:""+i[r]).replace(/^\s+|\s+$/g,"").split(o))[0]&&(c=[]),s={},t=0;t<c.length;++t)s[c[t]]=!0;l=c.length,u()};return d(),n(a,"length",function(){return d(),l}),a.toLocaleString=a.toString=function(){return d(),c.join(" ")},a.item=function(e){return d(),c[e]},a.contains=function(e){return d(),!!s[e]},a.add=function(){d.apply(a,e=arguments);for(var e,t,n=0,o=e.length;n<o;++n)s[t=e[n]]||(c.push(t),s[t]=!0);l!==c.length&&(l=c.length>>>0,"object"==typeof i[r]?i[r].baseVal=c.join(" "):i[r]=c.join(" "),u())},a.remove=function(){d.apply(a,e=arguments);for(var e,t={},n=0,o=[];n<e.length;++n)t[e[n]]=!0,delete s[e[n]];for(n=0;n<c.length;++n)t[c[n]]||o.push(c[n]);l=(c=o).length>>>0,"object"==typeof i[r]?i[r].baseVal=c.join(" "):i[r]=c.join(" "),u()},a.toggle=function(e,t){return d.apply(a,[e]),o!==t?t?(a.add(e),!0):(a.remove(e),!1):s[e]?(a.remove(e),!1):(a.add(e),!0)},a}}()),"classList"in(e=document.createElement("span"))&&(e.classList.toggle("x",!1),e.classList.contains("x")&&(e.classList.constructor.prototype.toggle=function(e){var t,n=arguments[1];return n===o?(t=!this.contains(e),this[t?"add":"remove"](e),t):(this[(n=!!n)?"add":"remove"](e),n)})),"classList"in(e=document.createElement("span"))&&(e.classList.add("a","b"),e.classList.contains("b")||(i=e.classList.constructor.prototype.add,e.classList.constructor.prototype.add=function(){for(var e=arguments,t=arguments.length,n=0;n<t;n++)i.call(this,e[n])})),"classList"in(e=document.createElement("span"))&&(e.classList.add("a"),e.classList.add("b"),e.classList.remove("a","b"),e.classList.contains("b")&&(r=e.classList.constructor.prototype.remove,e.classList.constructor.prototype.remove=function(){for(var e=arguments,t=arguments.length,n=0;n<t;n++)r.call(this,e[n])})))}.call("object"==typeof window&&window||"object"==typeof self&&self||"object"==typeof n&&n||{}),function(e){"Document"in this||"undefined"==typeof WorkerGlobalScope&&"function"!=typeof importScripts&&(this.HTMLDocument?this.Document=this.HTMLDocument:(this.Document=this.HTMLDocument=document.constructor=new Function("return function Document() {}")(),this.Document.prototype=document))}.call("object"==typeof window&&window||"object"==typeof self&&self||"object"==typeof n&&n||{}),function(e){var t,n,c,s,l,u,o,i,r;function a(){return r--||clearTimeout(i),!(!document.body||document.body.prototype||!/(complete|interactive)/.test(document.readyState))&&(l(document,!0),i&&document.body.prototype&&clearTimeout(i),!!document.body.prototype)}"Element"in this&&"HTMLElement"in this||(window.Element&&!window.HTMLElement?window.HTMLElement=window.Element:(window.Element=window.HTMLElement=new Function("return function Element() {}")(),n=(t=document.appendChild(document.createElement("body"))).appendChild(document.createElement("iframe")).contentWindow.document,c=Element.prototype=n.appendChild(n.createElement("*")),s={},l=function(e,t){var n,o,i,r=e.childNodes||[],a=-1;if(1===e.nodeType&&e.constructor!==Element)for(n in e.constructor=Element,s)o=s[n],e[n]=o;for(;i=t&&r[++a];)l(i,t);return e},u=document.getElementsByTagName("*"),o=document.createElement,r=100,c.attachEvent("onpropertychange",function(e){for(var t,n=e.propertyName,o=!s.hasOwnProperty(n),i=c[n],r=s[n],a=-1;t=u[++a];)1!==t.nodeType||!o&&t[n]!==r||(t[n]=i);s[n]=i}),c.constructor=Element,c.hasAttribute||(c.hasAttribute=function(e){return null!==this.getAttribute(e)}),a()||(document.onreadystatechange=a,i=setInterval(a,25)),document.createElement=function(e){e=o(String(e).toLowerCase());return l(e)},document.removeChild(t)))}.call("object"==typeof window&&window||"object"==typeof self&&self||"object"==typeof n&&n||{}),function(e){var t="document"in this&&"classList"in document.documentElement&&"Element"in this&&"classList"in Element.prototype&&((t=document.createElement("span")).classList.add("a","b"),t.classList.contains("b"));if(!t){var n=this,u=!0,d=function(e,t,n,o){Object.defineProperty?Object.defineProperty(e,t,{configurable:!1===u||!!o,get:n}):e.__defineGetter__(t,n)};try{d({},"support")}catch(o){u=!1}var f=function(e,s,l){d(e.prototype,s,function(){var e,t=this,n="__defineGetter__DEFINE_PROPERTY"+s;if(!t[n]){if(!(t[n]=!0)===u){for(var o,i=f.mirror||document.createElement("div"),r=i.childNodes,a=r.length,c=0;c<a;++c)if(r[c]._R===t){o=r[c];break}o=o||i.appendChild(document.createElement("div")),e=DOMTokenList.call(o,t,l)}else e=new DOMTokenList(t,l);d(t,s,function(){return e}),delete t[n]}return e},!0)};f(n.Element,"classList","className"),f(n.HTMLElement,"classList","className"),f(n.HTMLLinkElement,"relList","rel"),f(n.HTMLAnchorElement,"relList","rel"),f(n.HTMLAreaElement,"relList","rel")}}.call("object"==typeof window&&window||"object"==typeof self&&self||"object"==typeof n&&n||{})}),t(function(e,t){(function(e){"Window"in this||"undefined"==typeof WorkerGlobalScope&&"function"!=typeof importScripts&&!function(e){e.constructor?e.Window=e.constructor:(e.Window=e.constructor=new Function("return function Window() {}")()).prototype=this}(this)}).call("object"==typeof window&&window||"object"==typeof self&&self||"object"==typeof n&&n||{}),function(e){"Document"in this||"undefined"==typeof WorkerGlobalScope&&"function"!=typeof importScripts&&(this.HTMLDocument?this.Document=this.HTMLDocument:(this.Document=this.HTMLDocument=document.constructor=new Function("return function Document() {}")(),this.Document.prototype=document))}.call("object"==typeof window&&window||"object"==typeof self&&self||"object"==typeof n&&n||{}),function(e){var t,n,c,s,l,u,o,i,r;function a(){return r--||clearTimeout(i),!(!document.body||document.body.prototype||!/(complete|interactive)/.test(document.readyState))&&(l(document,!0),i&&document.body.prototype&&clearTimeout(i),!!document.body.prototype)}"Element"in this&&"HTMLElement"in this||(window.Element&&!window.HTMLElement?window.HTMLElement=window.Element:(window.Element=window.HTMLElement=new Function("return function Element() {}")(),n=(t=document.appendChild(document.createElement("body"))).appendChild(document.createElement("iframe")).contentWindow.document,c=Element.prototype=n.appendChild(n.createElement("*")),s={},l=function(e,t){var n,o,i,r=e.childNodes||[],a=-1;if(1===e.nodeType&&e.constructor!==Element)for(n in e.constructor=Element,s)o=s[n],e[n]=o;for(;i=t&&r[++a];)l(i,t);return e},u=document.getElementsByTagName("*"),o=document.createElement,r=100,c.attachEvent("onpropertychange",function(e){for(var t,n=e.propertyName,o=!s.hasOwnProperty(n),i=c[n],r=s[n],a=-1;t=u[++a];)1!==t.nodeType||!o&&t[n]!==r||(t[n]=i);s[n]=i}),c.constructor=Element,c.hasAttribute||(c.hasAttribute=function(e){return null!==this.getAttribute(e)}),a()||(document.onreadystatechange=a,i=setInterval(a,25)),document.createElement=function(e){e=o(String(e).toLowerCase());return l(e)},document.removeChild(t)))}.call("object"==typeof window&&window||"object"==typeof self&&self||"object"==typeof n&&n||{}),function(e){var a,c,s,l;"defineProperty"in Object&&function(){try{return Object.defineProperty({},"test",{value:42}),!0}catch(e){return!1}}()||(a=Object.defineProperty,c=Object.prototype.hasOwnProperty("__defineGetter__"),s="Getters & setters cannot be defined on this javascript engine",l="A property cannot both have accessors and be writable or have a value",Object.defineProperty=function(e,t,n){if(a&&(e===window||e===document||e===Element.prototype||e instanceof Element))return a(e,t,n);if(null===e||!(e instanceof Object||"object"==typeof e))throw new TypeError("Object.defineProperty called on non-object");if(!(n instanceof Object))throw new TypeError("Property description must be an object");var t=String(t),o="value"in n||"writable"in n,i="get"in n&&typeof n.get,r="set"in n&&typeof n.set;if(i){if("function"!==i)throw new TypeError("Getter must be a function");if(!c)throw new TypeError(s);if(o)throw new TypeError(l);Object.__defineGetter__.call(e,t,n.get)}else e[t]=n.value;if(r){if("function"!==r)throw new TypeError("Setter must be a function");if(!c)throw new TypeError(s);if(o)throw new TypeError(l);Object.__defineSetter__.call(e,t,n.set)}return"value"in n&&(e[t]=n.value),e})}.call("object"==typeof window&&window||"object"==typeof self&&self||"object"==typeof n&&n||{}),function(r){var e,n;function c(e,t){for(var n=-1,o=e.length;++n<o;)if(n in e&&e[n]===t)return n;return-1}!function(e){if(!("Event"in e))return!1;if("function"==typeof e.Event)return!0;try{return new Event("click"),!0}catch(t){return!1}}(this)&&(n={click:1,dblclick:1,keyup:1,keypress:1,keydown:1,mousedown:1,mouseup:1,mousemove:1,mouseover:1,mouseenter:1,mouseleave:1,mouseout:1,storage:1,storagecommit:1,textinput:1},"undefined"!=typeof document&&"undefined"!=typeof window&&(e=window.Event&&window.Event.prototype||null,window.Event=Window.prototype.Event=function Event(e,t){if(e)return"createEvent"in document?(n=document.createEvent("Event"),o=!(!t||t.bubbles===r)&&t.bubbles,i=!(!t||t.cancelable===r)&&t.cancelable,n.initEvent(e,o,i)):((n=document.createEventObject()).type=e,n.bubbles=!(!t||t.bubbles===r)&&t.bubbles,n.cancelable=!(!t||t.cancelable===r)&&t.cancelable),n;var n,o,i;throw new Error("Not enough arguments")},e&&Object.defineProperty(window.Event,"prototype",{configurable:!1,enumerable:!1,writable:!0,value:e}),"createEvent"in document||(window.addEventListener=Window.prototype.addEventListener=Document.prototype.addEventListener=Element.prototype.addEventListener=function(){var a=this,e=arguments[0],t=arguments[1];if(a===window&&e in n)throw new Error("In IE8 the event: "+e+" is not available on the window object. Please see https://github.com/Financial-Times/polyfill-service/issues/317 for more information.");a._events||(a._events={}),a._events[e]||(a._events[e]=function(e){var t,n=a._events[e.type].list,o=n.slice(),i=-1,r=o.length;for(e.preventDefault=function(){!1!==e.cancelable&&(e.returnValue=!1)},e.stopPropagation=function(){e.cancelBubble=!0},e.stopImmediatePropagation=function(){e.cancelBubble=!0,e.cancelImmediate=!0},e.currentTarget=a,e.relatedTarget=e.fromElement||null,e.target=e.target||e.srcElement||a,e.timeStamp=(new Date).getTime(),e.clientX&&(e.pageX=e.clientX+document.documentElement.scrollLeft,e.pageY=e.clientY+document.documentElement.scrollTop);++i<r&&!e.cancelImmediate;)i in o&&-1!==c(n,t=o[i])&&"function"==typeof t&&t.call(a,e)},a._events[e].list=[],a.attachEvent&&a.attachEvent("on"+e,a._events[e])),a._events[e].list.push(t)},window.removeEventListener=Window.prototype.removeEventListener=Document.prototype.removeEventListener=Element.prototype.removeEventListener=function(){var e,t=this,n=arguments[0];t._events&&t._events[n]&&t._events[n].list&&-1!==(e=c(t._events[n].list,arguments[1]))&&(t._events[n].list.splice(e,1),t._events[n].list.length||(t.detachEvent&&t.detachEvent("on"+n,t._events[n]),delete t._events[n]))},window.dispatchEvent=Window.prototype.dispatchEvent=Document.prototype.dispatchEvent=Element.prototype.dispatchEvent=function(e){if(!arguments.length)throw new Error("Not enough arguments");if(!e||"string"!=typeof e.type)throw new Error("DOM Events Exception 0");var t,n=this,o=e.type;try{e.bubbles||(e.cancelBubble=!0,t=function(e){e.cancelBubble=!0,(n||window).detachEvent("on"+o,t)},this.attachEvent("on"+o,t)),this.fireEvent("on"+o,e)}catch(i){for(e.target=n;"_events"in(e.currentTarget=n)&&"function"==typeof n._events[o]&&n._events[o].call(n,e),"function"==typeof n["on"+o]&&n["on"+o].call(n,e),(n=9===n.nodeType?n.parentWindow:n.parentNode)&&!e.cancelBubble;);}return!0},document.attachEvent("onreadystatechange",function(){"complete"===document.readyState&&document.dispatchEvent(new Event("DOMContentLoaded",{bubbles:!0}))}))))}.call("object"==typeof window&&window||"object"==typeof self&&self||"object"==typeof n&&n||{})});function r(e){this.$module=e,this.$mobileTabs=this.$module.querySelectorAll(".js-tabs__heading a"),this.$desktopTabs=this.$module.querySelectorAll(".js-tabs__item a"),this.$panels=this.$module.querySelectorAll(".js-tabs__container")}r.prototype.init=function(){this.$module&&(this.enhanceMobileTabs(),e(this.$desktopTabs,function(e){e.addEventListener("click",this.onClick.bind(this))}.bind(this)),this.resetTabs(),this.$module.hasAttribute("data-open")&&this.openPanel(this.$panels[0].id))},r.prototype.onClick=function(e){e.preventDefault();var e=e.target,t=e.getAttribute("aria-controls"),n=this.getPanel(t),e="true"===e.getAttribute("aria-expanded");if(!n)throw new Error("Invalid example ID given: "+t);e?this.closePanel(t):(this.resetTabs(),this.openPanel(t))},r.prototype.enhanceMobileTabs=function(){e(this.$mobileTabs,function(e){var t=document.createElement("button");t.setAttribute("aria-controls",e.getAttribute("aria-controls")),t.setAttribute("data-track",e.getAttribute("data-track")),t.classList.add("app-tabs__heading-button"),t.innerHTML=e.innerHTML,t.bindClick=this.onClick.bind(this),t.addEventListener("click",t.bindClick),e.parentNode.appendChild(t),e.parentNode.removeChild(e)}.bind(this)),this.$mobileTabs=this.$module.querySelectorAll(".js-tabs__heading button")},r.prototype.resetTabs=function(){e(this.$panels,function(e){e.classList.contains("js-tabs__container--no-tabs")||this.closePanel(e.id)}.bind(this))},r.prototype.openPanel=function(e){var t=this.getMobileTab(e),n=this.getDesktopTab(e);t&&n&&(t.setAttribute("aria-expanded","true"),t.parentNode.classList.add("app-tabs__heading--current"),n.setAttribute("aria-expanded","true"),n.parentNode.classList.add("app-tabs__item--current")),this.getPanel(e).removeAttribute("hidden")},r.prototype.closePanel=function(e){var t=this.getMobileTab(e),n=this.getDesktopTab(e);t.setAttribute("aria-expanded","false"),n.setAttribute("aria-expanded","false"),t.parentNode.classList.remove("app-tabs__heading--current"),n.parentNode.classList.remove("app-tabs__item--current"),this.getPanel(e).setAttribute("hidden","hidden")},r.prototype.getMobileTab=function(t){var n=null;return e(this.$mobileTabs,function(e){e.getAttribute("aria-controls")===t&&(n=e)}),n},r.prototype.getDesktopTab=function(e){var t=this.$module.querySelector(".app-tabs");return t?t.querySelector('[aria-controls="'+e+'"]'):null},r.prototype.getPanel=function(e){return document.getElementById(e)};var a={init:function(){a.expandMacroOptions()},expandMacroOptions:function(){var e,t,n,o,i,r,a,c=window.location.hash;c.match("^#options-")&&(o=c.split("#options-")[1],(o=(e=-1<c.indexOf("--"))?o.split("--")[0]:o)&&(n=(t=document.querySelector('a[href="#'+o+'-nunjucks"]'))?t.parentNode:null,o=document.getElementById("options-"+o+"-details"),n&&o&&(i=o.parentNode,r=o.querySelector(".govuk-details__summary"),a=o.querySelector(".govuk-details__text"),r&&a&&(t.setAttribute("aria-expanded","true"),n.className+=" app-tabs__item--current",i.removeAttribute("hidden"),o.setAttribute("open","open"),r.hasAttribute("aria-expanded")&&r.setAttribute("aria-expanded","true"),a.hasAttribute("aria-hidden")&&a.setAttribute("aria-hidden",!1),a.style.display="",window.setTimeout(function(){t.focus(),e&&document.querySelector(c).scrollIntoView()},0)))))}},c=(e(document.querySelectorAll('[data-module="app-example-frame"]'),function(e){new i(e).init()}),document.querySelectorAll('[data-module="app-tabs"]'));e(c,function(e){new r(e).init()}),a.init()}();
//# sourceMappingURL=application-ie8.js.map